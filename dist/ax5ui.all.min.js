"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};(function(){var e,t,i=this,n=window,a=document,o=(document.documentElement,/^(["'](\\.|[^"\\\n\r])*?["']|[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t])+?$/),s=/^-ms-/,l=/[\-_]([\da-z])/gi,r=/([A-Z])/g,d=/\./,c=/[-|+]?[\D]/gi,u=/\D/gi,h=new RegExp("([0-9])([0-9][0-9][0-9][,.])"),p=/&/g,f=/=/,m=/[ ]+/g,g={};g.guid=1,g.getGuid=function(){return g.guid++},g.info=e=function(){function i(e,i){return e={href:n.location.href,param:n.location.search,referrer:a.referrer,pathname:n.location.pathname,hostname:n.location.hostname,port:n.location.port},i=e.href.split(/[\?#]/),e.param=e.param.replace("?",""),e.url=i[0],e.href.search("#")>-1&&(e.hashdata=t.last(i)),i=null,e.baseUrl=t.left(e.href,"?").replace(e.pathname,""),e}function o(t,i,n){return e.errorMsg&&e.errorMsg[t]?{className:t,errorCode:i,methodName:n,msg:e.errorMsg[t][i]}:{className:t,errorCode:i,methodName:n}}var s="0.0.1",l="",r=function(){console.error(t.toArray(arguments).join(":"))},d={BACKSPACE:8,TAB:9,RETURN:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,HOME:36,END:35,PAGEUP:33,PAGEDOWN:34,INSERT:45,SPACE:32},c=[{label:"SUN"},{label:"MON"},{label:"TUE"},{label:"WED"},{label:"THU"},{label:"FRI"},{label:"SAT"}],u=function(e,t,i,n,a,o){return e=navigator.userAgent.toLowerCase(),t=-1!=e.search(/mobile/g),o,-1!=e.search(/iphone/g)?{name:"iphone",version:0,mobile:!0}:-1!=e.search(/ipad/g)?{name:"ipad",version:0,mobile:!0}:-1!=e.search(/android/g)?(n=/(android)[ \/]([\w.]+)/.exec(e)||[],o=n[2]||"0",{name:"android",version:o,mobile:t}):(i="",n=/(opr)[ \/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],a=n[1]||"",o=n[2]||"0","msie"==a&&(a="ie"),{name:a,version:o,mobile:t})}(),h=!("undefined"==typeof window||"undefined"==typeof navigator||!n.document),p=/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel",f={},m="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;return{errorMsg:f,version:s,baseUrl:l,onerror:r,eventKeys:d,weekNames:c,browser:u,isBrowser:h,supportTouch:m,wheelEnm:p,urlUtil:i,getError:o}}(),g.util=t=function(){function b(e,t){if(M(e))return[];var i,n=0,a=e.length,o=void 0===a||"function"==typeof e;if(o){for(i in e)if("undefined"!=typeof e[i]&&t.call(e[i],i,e[i])===!1)break}else for(;a>n&&("undefined"==typeof e[n]||t.call(e[n],n,e[n++])!==!1););return e}function v(e,t){if(M(e))return[];var i,n,a=0,o=e.length,s=[];if(j(e)){for(i in e)if("undefined"!=typeof e[i]){if(n=void 0,(n=t.call(e[i],i,e[i]))===!1)break;s.push(n)}}else for(;o>a;)if("undefined"!=typeof e[a]){if(n=void 0,(n=t.call(e[a],a,e[a++]))===!1)break;s.push(n)}return s}function x(e,t){if(M(e))return-1;var i,n=0,a=e.length;if(j(e))for(i in e){if("undefined"!=typeof e[i]&&P(t)&&t.call(e[i],i,e[i]))return i;if(e[i]==t)return i}else for(;a>n;){if("undefined"!=typeof e[n]&&P(t)&&t.call(e[n],n,e[n]))return n;if(e[n]==t)return n;n++}return-1}function y(e,t,i){var n,a,o;if(P(t)&&"undefined"==typeof i&&(i=t,t=0),"undefined"==typeof t&&(t=0),Q(e)){for(n=0,a=e.length;a>n;n++)if("undefined"!=typeof e[n]){if((o=i.call(e[n],e[n]))===!1)break;"undefined"!=typeof o&&(t+=o)}return t}if(j(e)){for(n in e)if("undefined"!=typeof e[n]){if((o=i.call(e[n],e[n]))===!1)break;"undefined"!=typeof o&&(t+=o)}return t}return console.error("argument error : ax5.util.sum - use Array or Object"),t}function w(e,t,i){var n,a,o;if(P(t)&&"undefined"==typeof i&&(i=t,t=0),"undefined"==typeof t&&(t=0),Q(e)){for(n=0,a=e.length;a>n;n++)if("undefined"!=typeof e[n]){if((o=i.call(e[n],e[n]))===!1)break;"undefined"!=typeof o&&(t+=o)}return t/a}if(j(e)){for(n in e)if("undefined"!=typeof e[n]){if((o=i.call(e[n],e[n]))===!1)break;"undefined"!=typeof o&&(t+=o)}return t/a}return console.error("argument error : ax5.util.sum - use Array or Object"),t}function k(e,t){var n,a,o;if(Q(e)){for(n=0,a=e.length,o=e[n];a-1>n&&("undefined"==typeof e[n]||(o=t.call(i,o,e[++n]))!==!1););return o}if(j(e)){for(n in e)if("undefined"!=typeof e[n]&&(o=t.call(i,o,e[n]))===!1)break;return o}return console.error("argument error : ax5.util.reduce - use Array or Object"),null}function _(e,t){for(var n=e.length-1,a=e[n];n>0&&("undefined"==typeof e[n]||(a=t.call(i,a,e[--n]))!==!1););return a}function $(e,t){if(M(e))return[];var i,n,a=0,o=e.length,s=[];if(j(e))for(i in e)"undefined"!=typeof e[i]&&(n=t.call(e[i],i,e[i]))&&s.push(e[i]);else for(;o>a;)"undefined"!=typeof e[a]&&((n=t.call(e[a],a,e[a]))&&s.push(e[a]),a++);return s}function C(e){var t="";if(g.util.isArray(e)){var i=0,n=e.length;for(t+="[";n>i;i++)i>0&&(t+=","),t+=C(e[i]);t+="]"}else if(g.util.isObject(e)){t+="{";var a=[];b(e,function(e,t){a.push('"'+e+'": '+C(t))}),t+=a.join(", "),t+="}"}else g.util.isString(e)?t='"'+e+'"':g.util.isNumber(e)?t=e:g.util.isUndefined(e)?t="undefined":g.util.isFunction(e)&&(t='"{Function}"');return t}function S(e,t){if(!t&&!o.test(e))return{error:500,msg:"syntax error"};try{return new Function("","return "+e)()}catch(i){return{error:500,msg:"syntax error"}}}function T(e){var t;return null!=e&&e==e.window?t="window":e&&1==e.nodeType?t="element":e&&11==e.nodeType?t="fragment":"undefined"==typeof e?t="undefined":"[object Object]"==he.call(e)?t="object":"[object Array]"==he.call(e)?t="array":"[object String]"==he.call(e)?t="string":"[object Number]"==he.call(e)?t="number":"[object NodeList]"==he.call(e)?t="nodelist":"function"==typeof e&&(t="function"),t}function E(e){return null!=e&&e==e.window}function I(e){return!(!e||1!=e.nodeType&&11!=e.nodeType)}function j(e){return"[object Object]"==he.call(e)}function Q(e){return"[object Array]"==he.call(e)}function P(e){return"function"==typeof e}function q(e){return"[object String]"==he.call(e)}function N(e){return"[object Number]"==he.call(e)}function O(e){return"[object NodeList]"==he.call(e)||e&&e[0]&&1==e[0].nodeType}function D(e){return"undefined"==typeof e}function M(e){return"undefined"==typeof e||null===e||""===e}function z(e){return e instanceof Date&&!isNaN(e.valueOf())}function K(e){var t=!1;if(e){if(e instanceof Date&&!isNaN(e.valueOf()))t=!0;else if(e=e.replace(/\D/g,""),e.length>7){var i=e.substr(4,2),n=e.substr(6,2);e=te(e),e.getMonth()==i-1&&e.getDate()==n&&(t=!0)}}else;return t}function A(e){if(j(e)){var t=Object.keys(e),i={};return i[t[0]]=e[t[0]],i}return Q(e)?e[0]:void console.error("ax5.util.object.first","argument type error")}function L(e){if(j(e)){var t=Object.keys(e),i={};return i[t[t.length-1]]=e[t[t.length-1]],i}return Q(e)?e[e.length-1]:void console.error("ax5.util.object.last","argument type error")}function H(e,t,i,n){var o;return"number"==typeof i&&(o=new Date,o.setDate(o.getDate()+i)),n=n||{},a.cookie=[escape(e),"=",escape(t),o?"; expires="+o.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}function R(e){for(var t=e+"=",i=a.cookie.split(";"),n=0,o=i.length;o>n;n++){for(var s=i[n];" "==s.charAt(0);)s=s.substring(1);if(-1!=s.indexOf(t))return unescape(s.substring(t.length,s.length))}return""}function Y(e){return n.alert(C(e)),e}function F(e,t){return"undefined"==typeof e||"undefined"==typeof t?"":q(t)?e.indexOf(t)>-1?e.substr(0,e.indexOf(t)):e:N(t)?e.substr(0,t):""}function G(e,t){return"undefined"==typeof e||"undefined"==typeof t?"":(e=""+e,q(t)?e.lastIndexOf(t)>-1?e.substr(e.lastIndexOf(t)+1):e:N(t)?e.substr(e.length-t):"")}function W(e){return e.replace(s,"ms-").replace(l,function(e,t){return t.toUpperCase()})}function V(e){return W(e).replace(r,function(e,t){return"-"+t.toLowerCase()})}function U(e,t){var i,n=(""+e).split(d),a=Number(n[0])<0||"-0"==n[0],o=0;return n[0]=n[0].replace(c,""),n[1]?(n[1]=n[1].replace(u,""),o=Number(n[0]+"."+n[1])||0):o=Number(n[0])||0,i=a?-o:o,b(t,function(e,t){"round"==e&&(i=N(t)?0>t?+(Math.round(i+"e-"+Math.abs(t))+"e+"+Math.abs(t)):+(Math.round(i+"e+"+t)+"e-"+t):Math.round(i)),"floor"==e&&(i=Math.floor(i)),"ceil"==e?i=Math.ceil(i):"money"==e?i=function(e){var t=""+e;if(isNaN(t)||""==t)return"";var i=t.split(".");i[0]+=".";do i[0]=i[0].replace(h,"$1,$2");while(h.test(i[0]));return i.length>1?i.join(""):i[0].split(".")[0]}(i):"abs"==e?i=Math.abs(Number(i)):"byte"==e&&(i=function(e){e=Number(i);var t="KB",n=e/1024;return n/1024>1&&(t="MB",n/=1024),n/1024>1&&(t="GB",n/=1024),U(n,{round:1})+t}(i))}),i}function B(e){return"undefined"!=typeof e.length?Array.prototype.slice.call(e):[]}function X(e,t){var i=t.length,n=e.length,a=0;if("number"==typeof i)for(;i>a;a++)e[n++]=t[a];else for(;void 0!==t[a];)e[n++]=t[a++];return e.length=n,e}function J(e,t){var i;return q(e)&&"undefined"!=typeof t&&"param"==t?e:q(e)&&"undefined"!=typeof t&&"object"==t||q(e)&&"undefined"==typeof t?(i={},b(e.split(p),function(){var e=this.split(f);i[e[0]]?(q(i[e[0]])&&(i[e[0]]=[i[e[0]]]),i[e[0]].push(e[1])):i[e[0]]=e[1]}),i):(i=[],b(e,function(e,t){i.push(e+"="+escape(t))}),i.join("&"))}function Z(){g.info.onerror.apply(this,arguments)}function ee(e,t,i,n,a,o){var s,l;return l=new Date,"undefined"==typeof n&&(n=23),"undefined"==typeof a&&(a=59),s=new Date(Date.UTC(e,t,i||1,n,a,o||0)),0==t&&1==i&&s.getUTCHours()+s.getTimezoneOffset()/60<0?s.setUTCHours(0):s.setUTCHours(s.getUTCHours()+s.getTimezoneOffset()/60),s}function te(t,i){var n,a,o,s,l,r,d,c,u,h;if(q(t))if(0==t.length)t=new Date;else if(t.length>15)r=t.split(/ /g),u=r[0].split(/\D/g),n=u[0],a=parseFloat(u[1]),o=parseFloat(u[2]),c=r[1]||"09:00",d=c.substring(0,5).split(":"),s=parseFloat(d[0]),l=parseFloat(d[1]),("AM"===G(c,2)||"PM"===G(c,2))&&(s+=12),t=ee(n,a-1,o,s,l);else if(14==t.length)h=t.replace(/\D/g,""),t=ee(h.substr(0,4),h.substr(4,2)-1,U(h.substr(6,2)),U(h.substr(8,2)),U(h.substr(10,2)),U(h.substr(12,2)));else if(t.length>7)h=t.replace(/\D/g,""),t=ee(h.substr(0,4),h.substr(4,2)-1,U(h.substr(6,2)));else if(t.length>4)h=t.replace(/\D/g,""),t=ee(h.substr(0,4),h.substr(4,2)-1,1);else{if(t.length>2)return h=t.replace(/\D/g,""),ee(h.substr(0,4),h.substr(4,2)-1,1);t=new Date}return"undefined"==typeof i?t:(i.add&&(t=function(e,t){var i,n,a,o,s=864e5;return"undefined"!=typeof t.d?e.setTime(e.getTime()+t.d*s):"undefined"!=typeof t.m?(i=e.getFullYear(),n=e.getMonth(),a=e.getDate(),i+=parseInt(t.m/12),n+=t.m%12,o=ae(i,n),a>o&&(a=o),e=new Date(i,n,a,12)):"undefined"!=typeof t.y?e.setTime(e.getTime()+365*t.y*s):e.setTime(e.getTime()+t.y*s),e}(new Date(t),i.add)),i["return"]?function(){var n,a,o,s,l,r,d,c=i["return"];n=t.getUTCFullYear(),a=oe(t.getMonth()+1,2),o=oe(t.getDate(),2),s=oe(t.getHours(),2),l=oe(t.getMinutes(),2),r=oe(t.getSeconds(),2),d=t.getDay();var u=/[^y]*(yyyy)[^y]*/gi;u.exec(c);var h=RegExp.$1,p=/[^m]*(MM)[^m]*/g;p.exec(c);var f=RegExp.$1,m=/[^d]*(dd)[^d]*/gi;m.exec(c);var g=RegExp.$1,b=/[^h]*(hh)[^h]*/gi;b.exec(c);var v=RegExp.$1,x=/[^m]*(mm)[^i]*/g;x.exec(c);var y=RegExp.$1,w=/[^s]*(ss)[^s]*/gi;w.exec(c);var k=RegExp.$1,_=/[^d]*(dw)[^w]*/gi;_.exec(c);var $=RegExp.$1;return"yyyy"===h&&(c=c.replace(h,G(n,h.length))),"MM"===f&&(1==f.length&&(a=t.getMonth()+1),c=c.replace(f,a)),"dd"===g&&(1==g.length&&(o=t.getDate()),c=c.replace(g,o)),"hh"===v&&(c=c.replace(v,s)),"mm"===y&&(c=c.replace(y,l)),"ss"===k&&(c=c.replace(k,r)),"dw"==$&&(c=c.replace($,e.weekNames[d].label)),c}():t)}function ie(e,t){function i(e){return Math.floor(e.getTime()/s)*s}var n,a,o=te(e),s=864e5,l=new Date;return"undefined"==typeof t?n=U((i(o)-i(l))/s,{floor:!0}):(n=U((i(o)-i(l))/s,{floor:!0}),t.today&&(l=te(t.today),n=U((i(o)-i(l))/s,{floor:!0})),t.thisYear&&(a=new Date(l.getFullYear(),o.getMonth(),o.getDate()),n=U((i(a)-i(l))/s,{floor:!0}),0>n&&(a=new Date(l.getFullYear()+1,o.getMonth(),o.getDate()),n=U((i(a)-i(l))/s,{floor:!0}))),t.age&&(a=new Date(l.getFullYear(),o.getMonth(),o.getDate()),n=a.getFullYear()-o.getFullYear()),n)}function ne(e){var t=te(e);return{year:t.getFullYear(),month:t.getMonth()+1,count:parseInt(t.getDate()/7+1)}}function ae(e,t){return 3==t||5==t||8==t||10==t?30:1==t?e%4==0&&e%100!=0||e%400==0?29:28:31}function oe(e,t,i,n){var a=e.toString(n||10);return se(i||"0",t-a.length)+a}function se(e,t){return 1>t?"":new Array(t+1).join(e)}function le(e,t){if(e)for(;function(){var i=!0;if("undefined"==typeof t)e=e.parentNode?e.parentNode:!1;else if(P(t))i=t(e);else if(j(t))for(var n in t)if("tagname"===n){if(e.tagName.toLocaleLowerCase()!=t[n]){i=!1;break}}else if("clazz"===n||"class_name"===n){if(!("className"in e)){i=!1;break}for(var a=e.className.split(m),o=!1,s=0;s<a.length;s++)if(a[s]==t[n]){o=!0;break}i=o}else{if(!e.getAttribute){i=!1;break}if(e.getAttribute(n)!=t[n]){i=!1;break}}return!i}();){if(!e.parentNode||!e.parentNode.parentNode){e=!1;break}e=e.parentNode}return e}function re(e){var t=/\D?(\d+)([a-zA-Z%]*)/i,i=(""+e).match(t),n=i[2]||"px";return i[1]+n}function de(e){var t;if(j(e)){t="";for(var i in e)t+=i+":"+e[i]+";";return t}if(q(e)){t={};var n=e.split(/[ ]*;[ ]*/g);return n.forEach(function(e){if(""!==(e=e.trim())){var i=e.split(/[ ]*:[ ]*/g);t[i[0]]=i[1]}}),t}}function ce(e){if(!e)var e=window.event;return e.cancelBubble=!0,e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),!1}function ue(e){var i,n;if("object"==("undefined"==typeof e?"undefined":_typeof(e))){if(t.isArray(e)){n=e.length,i=new Array(n);for(var a=0;n>a;a++)i[a]=ue(e[a]);return i}return jQuery.extend({},e)}return e}var he=Object.prototype.toString,pe=function(){var e={textRange:{selectAll:function(e,t,i){},arr:function(e,t,i){t.moveStart("character",i[0]),t.collapse(),t.moveEnd("character",i[1])},start:function(e,t,i){t.moveStart("character",0),t.collapse()},end:function(e,t,i){t.moveStart("character",t.text.length),t.collapse()}},range:{selectAll:function(e,t,i){t.selectNodeContents(e)},arr:function(e,t,i){j(i[0])?(t.setStart(i[0].node,i[0].offset),t.setEnd(i[1].node,i[1].offset)):(t.setStart(e.firstChild,i[0]),t.setEnd(e.firstChild,i[1]))},start:function(e,t,i){t.selectNodeContents(e),t.collapse(!0)},end:function(e,t,i){t.selectNodeContents(e),t.collapse(!1)}}};return function(t,i){var n,o,s;if(t instanceof jQuery&&(t=t.get(0)),t){if(a.body.createTextRange?(n=document.body.createTextRange(),n.moveToElementText(t),o="textRange"):window.getSelection&&(s=window.getSelection(),n=document.createRange(),o="range"),"undefined"==typeof i)e[o].selectAll.call(this,t,n,i);else if(Q(i))e[o].arr.call(this,t,n,i);else for(var l in e[o])if(i==l){e[o][l].call(this,t,n,i);break}a.body.createTextRange?(n.select(),t.focus()):window.getSelection&&(t.focus(),s.removeAllRanges(),s.addRange(n))}}}(),fe=function(e,t,i){var n,a,o=function(){var o=B(arguments);a&&clearTimeout(a),n?(n&&clearTimeout(n),n=setTimeout(function(t){e.apply(this,t)}.bind(this,o),t)):n=setTimeout(function(t){e.apply(this,t)}.bind(this,o),i?0:t),a=setTimeout(function(){clearTimeout(n),n=null},t)};return o.cancel=function(){clearTimeout(n),clearTimeout(a),n=null},o};return{alert:Y,each:b,map:v,search:x,reduce:k,reduceRight:_,filter:$,sum:y,avg:w,toJson:C,parseJson:S,first:A,last:L,deepCopy:ue,left:F,right:G,getType:T,isWindow:E,isElement:I,isObject:j,isArray:Q,isFunction:P,isString:q,isNumber:N,isNodelist:O,isUndefined:D,isNothing:M,setCookie:H,getCookie:R,camelCase:W,snakeCase:V,number:U,toArray:B,merge:X,param:J,error:Z,date:te,dday:ie,daysOfMonth:ae,weeksOfMonth:ne,setDigit:oe,times:se,findParentNode:le,cssNumber:re,css:de,isDate:z,isDateFormat:K,stopEvent:ce,selectRange:pe,debounce:fe}}(),i.ax5=function(){return g}()}).call(window),ax5.info.errorMsg.ax5dialog={501:"Duplicate call error"},ax5.info.errorMsg.ax5picker={401:"Can not find target element",402:"Can not find boundID",501:"Can not find content key"},ax5.info.errorMsg["single-uploader"]={460:"There are no files to be uploaded.",461:"There is no uploaded files."},ax5.info.errorMsg.ax5calendar={401:"Can not find target element"},ax5.info.errorMsg.ax5formatter={401:"Can not find target element",402:"Can not find boundID",501:"Can not find pattern"},ax5.info.errorMsg.ax5menu={501:"Can not find menu item"},ax5.info.errorMsg.ax5select={401:"Can not find target element",402:"Can not find boundID",501:"Can not find option"},ax5.info.errorMsg.ax5combobox={401:"Can not find target element",402:"Can not find boundID",501:"Can not find option"},function(){var e=/^\s*|\s*$/g;Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=i.length;return function(a){if("object"!==("undefined"==typeof a?"undefined":_typeof(a))&&("function"!=typeof a||null===a))throw new TypeError("type err");var o,s,l=[];for(o in a)e.call(a,o)&&l.push(o);if(t)for(s=0;n>s;s++)e.call(a,i[s])&&l.push(i[s]);return l}}()),Array.prototype.forEach||(Array.prototype.forEach=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw TypeError();var n,a=arguments[1];for(n=0;i>n;n++)n in t&&e.call(a,t[n],n,t)}),Function.prototype.bind||(Function.prototype.bind=function(e){function t(){}if("function"!=typeof this)throw TypeError("function");var i=[].slice,n=i.call(arguments,1),a=this,o=function(){return a.apply(this instanceof t?this:e,n.concat(i.call(arguments)))};return t.prototype=a.prototype,o.prototype=new t,o}),function(){if(!document.querySelectorAll&&!document.querySelector&&document.createStyleSheet){var e=document.createStyleSheet(),t=function(t,i){var n,a=document.all,o=a.length,s=[];for(e.addRule(t,"foo:bar"),n=0;o>n&&!("bar"===a[n].currentStyle.foo&&(s.push(a[n]),s.length>i));n+=1);return e.removeRule(0),s};document.querySelectorAll=function(e){return t(e,1/0)},document.querySelector=function(e){return t(e,1)[0]||null}}}(),String.prototype.trim||!function(){String.prototype.trim=function(){return this.replace(e,"")}}(),window.JSON||(window.JSON={parse:function(e){return new Function("","return "+e)()},stringify:function(){var e,t=/["]/g;return e=function(i){var n,a,o;switch(n="undefined"==typeof i?"undefined":_typeof(i)){case"string":return'"'+i.replace(t,'\\"')+'"';case"number":case"boolean":return i.toString();case"undefined":return"undefined";case"function":return'""';case"object":if(!i)return"null";if(n="",i.splice){for(a=0,o=i.length;o>a;a++)n+=","+e(i[a]);return"["+n.substr(1)+"]"}for(a in i)i.hasOwnProperty(a)&&void 0!==i[a]&&"function"!=typeof i[a]&&(n+=',"'+a+'":'+e(i[a]));return"{"+n.substr(1)+"}"}}}()}),function(){if(!document.documentMode||document.documentMode>=9)return!1;var e=Array.prototype.splice;Array.prototype.splice=function(){var t=Array.prototype.slice.call(arguments);return"undefined"==typeof t[1]&&(t[1]=this.length-t[0]),e.apply(this,t)}}(),function(){var e=Array.prototype.slice;try{e.call(document.documentElement)}catch(t){Array.prototype.slice=function(t,i){if(i="undefined"!=typeof i?i:this.length,"[object Array]"===Object.prototype.toString.call(this))return e.call(this,t,i);var n,a,o=[],s=this.length,l=t||0;l=l>=0?l:Math.max(0,s+l);var r="number"==typeof i?Math.min(i,s):s;if(0>i&&(r=s+i),a=r-l,a>0)if(o=new Array(a),this.charAt)for(n=0;a>n;n++)o[n]=this.charAt(l+n);else for(n=0;a>n;n++)o[n]=this[l+n];return o}}}(),function(e){for(var t,i,n={},a=function(){},o="memory".split(","),s="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");t=o.pop();)e[t]=e[t]||n;for(;i=s.pop();)e[i]=e[i]||a}(window.console||{});var t=document.getElementsByTagName("html")[0];document.getElementsByTagName("body")[0];window.innerWidth||(window.innerWidth=t.clientWidth),window.innerHeight||(window.innerHeight=t.clientHeight),window.scrollX||(window.scrollX=window.pageXOffset||t.scrollLeft),window.scrollY||(window.scrollY=window.pageYOffset||t.scrollTop)}.call(window),ax5.ui=function(){function e(){this.config={},this.name="root",this.setConfig=function(e,t){return jQuery.extend(!0,this.config,e,!0),("undefined"==typeof t||t===!0)&&this.init(),this},this.init=function(){console.log(this.config)},this.bindWindowResize=function(e){setTimeout(function(){jQuery(window).resize(function(){this.bindWindowResize__&&clearTimeout(this.bindWindowResize__),this.bindWindowResize__=setTimeout(function(){e.call(this)}.bind(this),10)}.bind(this))}.bind(this),100)},this.stopEvent=function(e){return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,!1},this.toString=function(){return this.name+"@"+this.version},this.main=function(){}.apply(this,arguments)}function t(e,t){if(!e||!e.className)throw"invalid call";var i=e.classStore?e.classStore:ax5.ui;if(!i)throw"invalid classStore";var n=function(e,t){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2])}},a=function(e,t,i){return i.name=e,i.version=t,i.instanceId=ax5.getGuid(),i},o=function(t){var i=e.superClass?e.superClass:ax5.ui.root;if(!ax5.util.isFunction(i))throw"invalid superClass";i.call(this),t.prototype=new i},s=function l(){if(!(this&&this instanceof l))throw"invalid call";var i=n(t,arguments);return a(e.className,e.version||"",i)};o.call(this,t),i[e.className]=s}return{root:e,addClass:t}}(),function(e,t){t(e.mustache={})}(window.ax5,function(e){function t(e){return"function"==typeof e}function i(e){return m(e)?"array":"undefined"==typeof e?"undefined":_typeof(e)}function n(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function a(e,t){return null!=e&&"object"===("undefined"==typeof e?"undefined":_typeof(e))&&t in e}function o(e,t){return g.call(e,t)}function s(e){return!o(b,e)}function l(e){return String(e).replace(/[&<>"'\/]/g,function(e){return v[e]})}function r(t,i){function a(){if(b&&!v)for(;g.length;)delete f[g.pop()];else g=[];b=!1,v=!1}function o(e){if("string"==typeof e&&(e=e.split(y,2)),!m(e)||2!==e.length)throw new Error("Invalid tags: "+e);l=new RegExp(n(e[0])+"\\s*"),r=new RegExp("\\s*"+n(e[1])),h=new RegExp("\\s*"+n("}"+e[1]))}if(!t)return[];var l,r,h,p=[],f=[],g=[],b=!1,v=!1;o(i||e.tags);for(var $,C,S,T,E,I,j=new u(t);!j.eos();){if($=j.pos,S=j.scanUntil(l))for(var Q=0,P=S.length;P>Q;++Q)T=S.charAt(Q),s(T)?g.push(f.length):v=!0,f.push(["text",T,$,$+1]),$+=1,"\n"===T&&a();if(!j.scan(l))break;if(b=!0,C=j.scan(_)||"name",j.scan(x),"="===C?(S=j.scanUntil(w),j.scan(w),j.scanUntil(r)):"{"===C?(S=j.scanUntil(h),j.scan(k),j.scanUntil(r),C="&"):S=j.scanUntil(r),!j.scan(r))throw new Error("Unclosed tag at "+j.pos);if(E=[C,S,$,j.pos],f.push(E),"#"===C||"^"===C)p.push(E);else if("/"===C){if(I=p.pop(),!I)throw new Error('Unopened section "'+S+'" at '+$);if(I[1]!==S)throw new Error('Unclosed section "'+I[1]+'" at '+$)}else"name"===C||"{"===C||"&"===C?v=!0:"="===C&&o(S)}if(I=p.pop())throw new Error('Unclosed section "'+I[1]+'" at '+j.pos);return c(d(f))}function d(e){for(var t,i,n=[],a=0,o=e.length;o>a;++a)t=e[a],t&&("text"===t[0]&&i&&"text"===i[0]?(i[1]+=t[1],i[3]=t[3]):(n.push(t),i=t));return n}function c(e){for(var t,i,n=[],a=n,o=[],s=0,l=e.length;l>s;++s)switch(t=e[s],t[0]){case"#":case"^":a.push(t),o.push(t),a=t[4]=[];break;case"/":i=o.pop(),i[5]=t[2],a=o.length>0?o[o.length-1][4]:n;break;default:a.push(t)}return n}function u(e){this.string=e,this.tail=e,this.pos=0}function h(e,t){this.view=e,this.cache={".":this.view,"@each":function(){var e=[];for(var t in this)e.push({"@key":t,"@value":this[t]});return e}},this.parent=t}function p(){this.cache={}}var f=Object.prototype.toString,m=Array.isArray||function(e){return"[object Array]"===f.call(e)},g=RegExp.prototype.test,b=/\S/,v={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},x=/\s*/,y=/\s+/,w=/\s*=/,k=/\s*\}/,_=/#|\^|\/|>|\{|&|=|!/;u.prototype.eos=function(){return""===this.tail},u.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var i=t[0];return this.tail=this.tail.substring(i.length),this.pos+=i.length,i},u.prototype.scanUntil=function(e){var t,i=this.tail.search(e);switch(i){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,i),this.tail=this.tail.substring(i)}return this.pos+=t.length,t},h.prototype.push=function(e){return new h(e,this)},h.prototype.lookup=function(e){var i,n=this.cache;if(n.hasOwnProperty(e))i=n[e];else{for(var o,s,l=this,r=!1;l;){if(e.indexOf(".")>0)for(i=l.view,o=e.split("."),s=0;null!=i&&s<o.length;)s===o.length-1&&(r=a(i,o[s])),i=i[o[s++]];else i=l.view[e],r=a(l.view,e);if(r)break;l=l.parent}n[e]=i}return t(i)&&(i=i.call(this.view)),i},p.prototype.clearCache=function(){this.cache={}},p.prototype.parse=function(e,t){var i=this.cache,n=i[e];return null==n&&(n=i[e]=r(e,t)),n},p.prototype.render=function(e,t,i){var n=this.parse(e),a=t instanceof h?t:new h(t);return this.renderTokens(n,a,i,e)},p.prototype.renderTokens=function(e,t,i,n){for(var a,o,s,l="",r=0,d=e.length;d>r;++r)s=void 0,a=e[r],o=a[0],"#"===o?s=this.renderSection(a,t,i,n):"^"===o?s=this.renderInverted(a,t,i,n):">"===o?s=this.renderPartial(a,t,i,n):"&"===o?s=this.unescapedValue(a,t):"name"===o?s=this.escapedValue(a,t):"text"===o&&(s=this.rawValue(a)),void 0!==s&&(l+=s);return l},p.prototype.renderSection=function(e,i,n,a){function o(e){return s.render(e,i,n)}var s=this,l="",r=i.lookup(e[1]);if(r){if(m(r))for(var d=0,c=r.length;c>d;++d)r[d]["@i"]=d,r[d]["@first"]=0===d,l+=this.renderTokens(e[4],i.push(r[d]),n,a);else if("object"===("undefined"==typeof r?"undefined":_typeof(r))||"string"==typeof r||"number"==typeof r)l+=this.renderTokens(e[4],i.push(r),n,a);else if(t(r)){if("string"!=typeof a)throw new Error("Cannot use higher-order sections without the original template");r=r.call(i.view,a.slice(e[3],e[5]),o),null!=r&&(l+=r)}else l+=this.renderTokens(e[4],i,n,a);return l}},p.prototype.renderInverted=function(e,t,i,n){var a=t.lookup(e[1]);return!a||m(a)&&0===a.length?this.renderTokens(e[4],t,i,n):void 0},p.prototype.renderPartial=function(e,i,n){if(n){var a=t(n)?n(e[1]):n[e[1]];return null!=a?this.renderTokens(this.parse(a),i,n,a):void 0}},p.prototype.unescapedValue=function(e,t){var i=t.lookup(e[1]);return null!=i?i:void 0},p.prototype.escapedValue=function(t,i){var n=i.lookup(t[1]);return null!=n?e.escape(n):void 0},p.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.1.3",e.tags=["{{","}}"];var $=new p;e.clearCache=function(){return $.clearCache()},e.parse=function(e,t){return $.parse(e,t)},e.render=function(e,t,n){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+i(e)+'" was given as the first argument for mustache#render(template, view, partials)');return $.render(e,t,n)},e.to_html=function(i,n,a,o){var s=e.render(i,n,a);return t(o)?void o(s):s},e.escape=l,e.Scanner=u,e.Context=h,e.Writer=p}),function(){var e=ax5.ui,t=ax5.util;e.addClass({className:"dialog",version:"0.8.2"},function(){var i=function(){var i,n=this;this.activeDialog=null,this.config={id:"ax5-dialog-"+this.instanceId,clickEventName:"click",theme:"default",width:300,title:"",msg:"",lang:{ok:"ok",cancel:"cancel"},animateTime:250},i=this.config;var a=function(e,t){return e&&e.onStateChanged?e.onStateChanged.call(t,t):this.onStateChanged&&this.onStateChanged.call(t,t),t=null,!0},o=function(){return'\n<div id="{{dialogId}}" data-ax5-ui="dialog" class="ax5-ui-dialog {{theme}}">\n    <div class="ax-dialog-header">\n        {{{title}}}\n    </div>\n    <div class="ax-dialog-body">\n        <div class="ax-dialog-msg">{{{msg}}}</div>\n        \n        {{#input}}\n        <div class="ax-dialog-prompt">\n            {{#@each}}\n            <div class="form-group">\n            {{#@value.label}}\n            <label>{{#_crlf}}{{{.}}}{{/_crlf}}</label>\n            {{/@value.label}}\n            <input type="{{@value.type}}" placeholder="{{@value.placeholder}}" class="form-control {{@value.theme}}" data-dialog-prompt="{{@key}}" style="width:100%;" value="{{@value.value}}" />\n            {{#@value.help}}\n            <p class="help-block">{{#_crlf}}{{.}}{{/_crlf}}</p>\n            {{/@value.help}}\n            </div>\n            {{/@each}}\n        </div>\n        {{/input}}\n        \n        <div class="ax-dialog-buttons">\n            <div class="ax-button-wrap">\n            {{#btns}}\n                {{#@each}}\n                <button type="button" data-dialog-btn="{{@key}}" class="btn btn-{{@value.theme}}">{{@value.label}}</button>\n                {{/@each}}\n            {{/btns}}\n            </div>\n        </div>\n    </div>\n</div>  \n'},s=function(e,t){var n={dialogId:e,title:t.title||i.title||"",msg:(t.msg||i.msg||"").replace(/\n/g,"<br/>"),input:t.input,btns:t.btns,_crlf:function(){return this.replace(/\n/g,"<br/>")}};try{return ax5.mustache.render(o(),n)}finally{n=null}},l=function(e,t){var n,o={};e.id=e.id||i.id,n={width:e.width},jQuery(document.body).append(s.call(this,e.id,e)),this.activeDialog=jQuery("#"+e.id),this.activeDialog.css({width:n.width}),e.height=n.height=this.activeDialog.height(),"undefined"==typeof e.position||"center"===e.position?(o.top=jQuery(window).height()/2-n.height/2,o.left=jQuery(window).width()/2-n.width/2):(o.left=e.position.left||0,o.top=e.position.top||0),this.activeDialog.css(o),"prompt"===e.dialogType?this.activeDialog.find("[data-dialog-prompt]").get(0).focus():this.activeDialog.find("[data-dialog-btn]").get(0).focus(),this.activeDialog.find("[data-dialog-btn]").on(i.clickEventName,function(i){d.call(this,i||window.event,e,t)}.bind(this)),jQuery(window).bind("keydown.ax5dialog",function(i){c.call(this,i||window.event,e,t)}.bind(this)),jQuery(window).bind("resize.ax5dialog",function(e){r.call(this,e||window.event)}.bind(this)),a.call(this,e,{self:this,state:"open"}),o=null,n=null},r=function(e){if(!this.activeDialog)return this;var t=n.dialogConfig,i={width:t.width,height:t.height};return"undefined"==typeof t.position||"center"===t.position?(i.top=window.innerHeight/2-i.height/2,i.left=window.innerWidth/2-i.width/2):(i.left=t.position.left||0,i.top=t.position.top||0),this.activeDialog.css(i),t=null,i=null,this},d=function(e,i,n,a,o){var s;if(e.srcElement&&(e.target=e.srcElement),a=t.findParentNode(e.target,function(e){return e.getAttribute("data-dialog-btn")?!0:void 0})){if(o=a.getAttribute("data-dialog-btn"),s={self:this,key:o,value:i.btns[o],dialogId:i.id,btnTarget:a},"prompt"===i.dialogType){var l=null;for(var r in i.input)if(s[r]=this.activeDialog.find("[data-dialog-prompt="+r+"]").val(),""==s[r]||null==s[r]){l=r;break}}if(i.btns[o].onClick)i.btns[o].onClick.call(s,o);else if("alert"===i.dialogType)n&&n.call(s,o),this.close();else if("confirm"===i.dialogType)n&&n.call(s,o),this.close();else if("prompt"===i.dialogType){if("ok"===o&&l)return this.activeDialog.find('[data-dialog-prompt="'+l+'"]').get(0).focus(),!1;n&&n.call(s,o),this.close()}}s=null,i=null,n=null,a=null,o=null},c=function(e,t,i,n,a){var o,s=null;if(e.keyCode==ax5.info.eventKeys.ESC&&this.close(),"prompt"===t.dialogType&&e.keyCode==ax5.info.eventKeys.RETURN){o={self:this,key:a,value:t.btns[a],dialogId:t.id,btnTarget:n};for(var l in t.input)if(o[l]=this.activeDialog.find("[data-dialog-prompt="+l+"]").val(),""==o[l]||null==o[l]){s=l;break}if(s)return o=null,s=null,!1;i&&i.call(o,a),this.close()}o=null,s=null,t=null,i=null,n=null,a=null};this.init=function(){this.onStateChanged=i.onStateChanged},this.alert=function(e,a,o){return t.isString(e)&&(e={title:i.title,msg:e}),this.activeDialog?(o?console.log(ax5.info.getError("ax5dialog","501","alert")):setTimeout(function(){this.alert(e,a,1)}.bind(this),Number(i.animateTime)+100),this):(n.dialogConfig={},jQuery.extend(!0,n.dialogConfig,i,e),e=n.dialogConfig,e.dialogType="alert","undefined"==typeof e.btns&&(e.btns={ok:{label:i.lang.ok,theme:e.theme}}),l.call(this,e,a),e=null,a=null,this)},this.confirm=function(e,a,o){return t.isString(e)&&(e={
title:i.title,msg:e}),this.activeDialog?(o?console.log(ax5.info.getError("ax5dialog","501","confirm")):setTimeout(function(){this.confirm(e,a,1)}.bind(this),Number(i.animateTime)+100),this):(n.dialogConfig={},jQuery.extend(!0,n.dialogConfig,i,e),e=n.dialogConfig,e.dialogType="confirm",e.theme=e.theme||i.theme||"","undefined"==typeof e.btns&&(e.btns={ok:{label:i.lang.ok,theme:e.theme},cancel:{label:i.lang.cancel}}),l.call(this,e,a),e=null,a=null,this)},this.prompt=function(e,a,o){return t.isString(e)&&(e={title:i.title,msg:e}),this.activeDialog?(o?console.log(ax5.info.getError("ax5dialog","501","prompt")):setTimeout(function(){this.prompt(e,a,1)}.bind(this),Number(i.animateTime)+100),this):(n.dialogConfig={},jQuery.extend(!0,n.dialogConfig,i,e),e=n.dialogConfig,e.dialogType="prompt",e.theme=e.theme||i.theme||"","undefined"==typeof e.input&&(e.input={value:{label:""}}),"undefined"==typeof e.btns&&(e.btns={ok:{label:i.lang.ok,theme:e.theme},cancel:{label:i.lang.cancel}}),l.call(this,e,a),e=null,a=null,this)},this.close=function(e,t){return this.activeDialog&&(e=n.dialogConfig,this.activeDialog.addClass("destroy"),jQuery(window).unbind("keydown.ax5dialog"),jQuery(window).unbind("resize.ax5dialog"),setTimeout(function(){this.activeDialog.remove(),this.activeDialog=null,t={self:this,state:"close"},e&&e.onStateChanged?e.onStateChanged.call(t,t):this.onStateChanged&&this.onStateChanged.call(t,t),e=null,t=null}.bind(this),i.animateTime)),this},this.main=function(){e.dialog_instance=e.dialog_instance||[],e.dialog_instance.push(this),arguments&&t.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return i}())}(),function(){var e=ax5.ui,t=ax5.util;e.addClass({className:"mask",version:"0.7.2"},function(){var i=function(){var i,n=this;this.config={theme:"",target:jQuery(document.body).get(0)},this.maskContent="",this.status="off",i=this.config;var a=function(e,t){return e&&e.onStateChanged?e.onStateChanged.call(t,t):this.onStateChanged&&this.onStateChanged.call(t,t),e=null,t=null,!0},o=function(){return'\n                <div class="ax-mask {{theme}}" id="{{maskId}}">\n                    <div class="ax-mask-bg"></div>\n                    <div class="ax-mask-content">\n                        <div class="ax-mask-body">\n                        {{{body}}}\n                        </div>\n                    </div>\n                </div>\n                '},s=function(e){this.maskContent=e};this.init=function(){this.onStateChanged=i.onStateChanged,this.onClick=i.onClick,this.config.content&&s.call(this,this.config.content)},this.open=function(e){"on"===this.status&&this.close(),e&&e.content&&s.call(this,e.content),n.maskConfig={},jQuery.extend(!0,n.maskConfig,this.config,e);var t,i=n.maskConfig,l=i.target,r=jQuery(l),d="ax-mask-"+ax5.getGuid(),c={},u={},h=o(),p=ax5.mustache.render(h,{theme:i.theme,maskId:d,body:this.maskContent});return jQuery(document.body).append(p),l&&l!==jQuery(document.body).get(0)&&(c={position:i.position||"absolute",left:r.offset().left,top:r.offset().top,width:r.outerWidth(),height:r.outerHeight()},"undefined"!=typeof n.maskConfig.zIndex&&(c["z-index"]=n.maskConfig.zIndex),r.addClass("ax-masking")),this.$mask=t=jQuery("#"+d),this.$target=r,this.status="on",t.css(c),this.onClick&&t.click(function(){u={self:this,state:"open",type:"click"},this.onClick.call(u,u)}),a.call(this,null,{self:this,state:"open"}),e=null,i=null,l=null,r=null,d=null,t=null,c=null,u=null,h=null,p=null,this},this.close=function(){return this.$mask&&(this.$mask.remove(),this.$target.removeClass("ax-masking"),a.call(this,null,{self:this,state:"close"})),this},this.main=function(){e.mask_instance=e.mask_instance||[],e.mask_instance.push(this),arguments&&t.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return i}())}(),function(){var e=ax5.ui,t=ax5.util;e.addClass({className:"toast",version:"0.3.2"},function(){var i=function(){var i,n=this,a=0,o=null;this.config={clickEventName:"click",theme:"default",width:300,icon:"",closeIcon:"",msg:"",lang:{ok:"ok",cancel:"cancel"},displayTime:3e3,animateTime:250,containerPosition:"bottom-left"},this.toastContainer=null,this.queue=[],i=this.config;var s=function(e,t){return e&&e.onStateChanged?e.onStateChanged.call(t,t):this.onStateChanged&&this.onStateChanged.call(t,t),e=null,t=null,!0},l=function(){return'\n                    <div id="{{toastId}}" data-ax5-ui="toast" class="ax5-ui-toast {{theme}}">\n                        {{#icon}}\n                        <div class="ax-toast-icon">{{{.}}}</div>\n                        {{/icon}}\n                        <div class="ax-toast-body">{{{msg}}}</div>\n                        {{#btns}}\n                        <div class="ax-toast-buttons">\n                            <div class="ax-button-wrap">\n                            {{#@each}}\n                            <button type="button" data-ax-toast-btn="{{@key}}" class="btn btn-{{@value.theme}}">{{{@value.label}}}</button>\n                            {{/@each}}\n                            </div>\n                        </div>\n                        {{/btns}}\n                        {{^btns}}\n                        <a class="ax-toast-close" data-ax-toast-btn="ok">{{{closeIcon}}}</a>\n                        {{/btns}}\n                        <div style="clear:both;"></div>\n                    </div>\n                    '},r=function(e,t){var i={toastId:e,theme:t.theme,icon:t.icon,msg:(t.msg||"").replace(/\n/g,"<br/>"),btns:t.btns,closeIcon:t.closeIcon};try{return ax5.mustache.render(l(),i)}finally{e=null,i=null}},d=function(e,l){o&&clearTimeout(o);var d,u={width:e.width};return e.id="ax5-toast-"+n.containerId+"-"+ ++a,jQuery("#"+e.id).get(0)?this:("bottom"==t.left(i.containerPosition,"-")?this.toastContainer.append(r(e.id,e)):this.toastContainer.prepend(r(e.id,e)),d=jQuery("#"+e.id),d.css({width:u.width}),e.toastBox=d,this.queue.push(e),s.call(this,e,{self:this,state:"open",toastId:e.id}),"push"===e.toastType?(setTimeout(function(){this.close(e,l)}.bind(this),i.displayTime),d.find("[data-ax-toast-btn]").on(i.clickEventName,function(t){c.call(this,t||window.event,e,d,l)}.bind(this))):"confirm"===e.toastType&&d.find("[data-ax-toast-btn]").on(i.clickEventName,function(t){c.call(this,t||window.event,e,d,l)}.bind(this)),void(u=null))},c=function(e,i,n,a,o,s){if(o=t.findParentNode(e.target,function(e){return e.getAttribute("data-ax-toast-btn")?!0:void 0})){s=o.getAttribute("data-ax-toast-btn");var l={key:s,value:i.btns?i.btns[s]:s,toastId:i.id,btn_target:o};i.btns&&i.btns[s].onClick?i.btns[s].onClick.call(l,s):"push"===i.toastType?(a&&a.call(l,s),this.close(i,a)):"confirm"===i.toastType&&(a&&a.call(l,s),this.close(i,a))}e=null,i=null,n=null,a=null,o=null,s=null};this.init=function(){this.onStateChanged=i.onStateChanged,n.containerId=ax5.getGuid();var e=[];i.zIndex&&e.push("z-index:"+i.zIndex),jQuery(document.body).append('<div class="ax5-ui-toast-container '+i.containerPosition+'" data-toast-container="'+n.containerId+'" style="'+e.join(";")+'"></div>'),this.toastContainer=jQuery('[data-toast-container="'+n.containerId+'"]')},this.push=function(e,a){return n.containerId||this.init(),t.isString(e)&&(e={title:i.title,msg:e}),e.toastType="push",n.dialogConfig={},jQuery.extend(!0,n.dialogConfig,i,e),e=n.dialogConfig,d.call(this,e,a),e=null,a=null,this},this.confirm=function(e,a){return n.containerId||this.init(),t.isString(e)&&(e={title:i.title,msg:e}),e.toastType="confirm",n.dialogConfig={},jQuery.extend(!0,n.dialogConfig,i,e),e=n.dialogConfig,"undefined"==typeof e.btns&&(e.btns={ok:{label:i.lang.ok,theme:e.theme}}),d.call(this,e,a),e=null,a=null,this},this.close=function(e,n){"undefined"==typeof e&&(e=t.last(this.queue));var l=e.toastBox;return l.addClass("push"==e.toastType?"removed":"destroy"),this.queue=t.filter(this.queue,function(){return e.id!=this.id}),setTimeout(function(){var t={toastId:e.id};l.remove(),n&&n.call(t),t={self:this,state:"close",toastId:e.id},s.call(this,e,t),0===this.queue.length&&(o&&clearTimeout(o),o=setTimeout(function(){0===this.queue.length&&(a=0)}.bind(this),3e3)),t=null,e=null,n=null,l=null}.bind(this),i.animateTime),this},this.main=function(){e.toast_instance=e.toast_instance||[],e.toast_instance.push(this),arguments&&t.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return i}())}(),function(){var e=ax5.ui,t=ax5.util;e.addClass({className:"modal",version:"0.7.2"},function(){var i=function(){var i,n=this,a={mousedown:ax5.info.supportTouch?"touchstart":"mousedown",mousemove:ax5.info.supportTouch?"touchmove":"mousemove",mouseup:ax5.info.supportTouch?"touchend":"mouseup"},o=function(e){var t=e;return"changedTouches"in e&&(t=e.changedTouches[0]),{clientX:t.clientX,clientY:t.clientY}};this.config={id:"ax5-modal-"+this.instanceId,position:{left:"center",top:"middle",margin:10},minimizePosition:"bottom-right",clickEventName:"click",theme:"default",width:300,height:400,closeToEsc:!0,animateTime:250},this.activeModal=null,this.$={},i=this.config;var s=function(e,t){return e&&e.onStateChanged?e.onStateChanged.call(t,t):this.onStateChanged&&this.onStateChanged.call(t,t),!0},l=function(){return' \n                <div id="{{modalId}}" data-modal-els="root" class="ax5modal {{theme}} {{fullscreen}}" style="{{styles}}">\n                    {{#header}}\n                    <div class="ax-modal-header" data-modal-els="header">\n                        {{{title}}}\n                        {{#btns}}\n                            <div class="ax-modal-header-addon">\n                            {{#@each}}\n                            <a tabindex="-1" data-modal-header-btn="{{@key}}" class="{{@value.theme}}">{{{@value.label}}}</a>\n                            {{/@each}}\n                            </div>\n                        {{/btns}}\n                    </div>\n                    {{/header}}\n                    <div class="ax-modal-body" data-modal-els="body">\n                    {{#iframe}}\n                        <div data-modal-els="iframe-wrap" style="-webkit-overflow-scrolling: touch; overflow: auto;position: relative;">\n                        <iframe name="{{modalId}}-frame" src="" width="100%" height="100%" frameborder="0" data-modal-els="iframe" style="position: absolute;left:0;top:0;"></iframe>\n                        </div>\n                        <form name="{{modalId}}-form" data-modal-els="iframe-form">\n                        <input type="hidden" name="modalId" value="{{modalId}}" />\n                        {{#param}}\n                        {{#@each}}\n                        <input type="hidden" name="{{@key}}" value="{{@value}}" />\n                        {{/@each}}\n                        {{/param}}\n                        </form>\n                    {{/iframe}}\n                    </div>\n                </div>\n                '},r=function(e,t){var i={modalId:e,theme:t.theme,header:t.header,fullScreen:t.fullScreen?"fullscreen":"",styles:[],iframe:t.iframe};return t.zIndex&&i.styles.push("z-index:"+t.zIndex),i.iframe&&"string"==typeof i.iframe.param&&(i.iframe.param=ax5.util.param(i.iframe.param)),ax5.mustache.render(l(),i)},d=function(e,l){var d;jQuery(document.body).append(r.call(this,e.id,e)),this.activeModal=jQuery("#"+e.id),this.$={root:this.activeModal.find('[data-modal-els="root"]'),header:this.activeModal.find('[data-modal-els="header"]'),body:this.activeModal.find('[data-modal-els="body"]')},e.iframe&&(this.$["iframe-wrap"]=this.activeModal.find('[data-modal-els="iframe-wrap"]'),this.$.iframe=this.activeModal.find('[data-modal-els="iframe"]'),this.$["iframe-form"]=this.activeModal.find('[data-modal-els="iframe-form"]')),this.align(),d={self:this,id:e.id,theme:e.theme,width:e.width,height:e.height,state:"open",$:this.$},e.iframe&&(this.$["iframe-wrap"].css({height:e.height}),this.$.iframe.css({height:e.height}),this.$["iframe-form"].attr({method:e.iframe.method}),this.$["iframe-form"].attr({target:e.id+"-frame"}),this.$["iframe-form"].attr({action:e.iframe.url}),this.$.iframe.on("load",function(){d.state="load",s.call(this,e,d)}.bind(this)),this.$["iframe-form"].submit()),l&&l.call(d),s.call(this,e,d),e.closeToEsc&&jQuery(window).bind("keydown.ax-modal",function(e){u.call(this,e||window.event)}.bind(this)),jQuery(window).bind("resize.ax-modal",function(e){this.align(null,e||window.event)}.bind(this)),this.activeModal.find("[data-modal-header-btn]").on(i.clickEventName,function(t){c.call(this,t||window.event,e)}.bind(this)),this.$.header.bind(a.mousedown,function(e){n.mousePosition=o(e),p.on.call(n)}).bind("dragstart",function(e){return t.stopEvent(e),!1})},c=function(e,i,n,a,o){var s;e.srcElement&&(e.target=e.srcElement),a=t.findParentNode(e.target,function(e){return e.getAttribute("data-modal-header-btn")?!0:void 0}),a&&(o=a.getAttribute("data-modal-header-btn"),s={self:this,key:o,value:i.header.btns[o],dialogId:i.id,btnTarget:a},i.header.btns[o].onClick&&i.header.btns[o].onClick.call(s,o)),s=null,i=null,n=null,a=null,o=null},u=function(e){e.keyCode==ax5.info.eventKeys.ESC&&this.close()},h={"top-left":function(){this.align({left:"left",top:"top"})},"top-right":function(){this.align({left:"right",top:"top"})},"bottom-left":function(){this.align({left:"left",top:"bottom"})},"bottom-right":function(){this.align({left:"right",top:"bottom"})},"center-middle":function(){this.align({left:"center",top:"middle"})}},p={on:function(){var e=this.activeModal.position(),t={width:this.activeModal.outerWidth(),height:this.activeModal.outerHeight()},o={width:jQuery(window).width(),height:jQuery(window).height()},s=function(i){n.__dx=i.clientX-n.mousePosition.clientX,n.__dy=i.clientY-n.mousePosition.clientY;var a=0,s=o.width-t.width,l=0,r=o.height-t.height;return a>e.left+n.__dx?n.__dx=-e.left:s<e.left+n.__dx&&(n.__dx=s-e.left),l>e.top+n.__dy?n.__dy=-e.top:r<e.top+n.__dy&&(n.__dy=r-e.top),{left:e.left+n.__dx+$(document).scrollLeft(),top:e.top+n.__dy+$(document).scrollTop()}};n.__dx=0,n.__dy=0,jQuery(document.body).bind(a.mousemove+".ax5modal-"+i.id,function(i){n.resizer||(n.resizerBg=jQuery('<div class="ax5modal-resizer-background" ondragstart="return false;"></div>'),n.resizer=jQuery('<div class="ax5modal-resizer" ondragstart="return false;"></div>'),n.resizer.css({left:e.left,top:e.top,width:t.width,height:t.height}),jQuery(document.body).append(n.resizerBg).append(n.resizer),n.activeModal.addClass("draged")),n.resizer.css(s(i))}).bind(a.mouseup+".ax5layout-"+this.instanceId,function(e){p.off.call(n)}).bind("mouseleave.ax5layout-"+this.instanceId,function(e){p.off.call(n)}),jQuery(document.body).attr("unselectable","on").css("user-select","none").on("selectstart",!1)},off:function(){var e=function(){var e=this.activeModal.offset();e.left+=this.__dx-$(document).scrollLeft(),e.top+=this.__dy-$(document).scrollTop(),this.activeModal.css(e)};this.resizer&&(this.activeModal.removeClass("draged"),this.resizer.remove(),this.resizer=null,this.resizerBg.remove(),this.resizerBg=null,e.call(this)),jQuery(document.body).unbind(a.mousemove+".ax5modal-"+i.id).unbind(a.mouseup+".ax5modal-"+i.id).unbind("mouseleave.ax5modal-"+i.id),jQuery(document.body).removeAttr("unselectable").css("user-select","auto").off("selectstart")}};this.init=function(){this.onStateChanged=i.onStateChanged},this.open=function(e,t){return this.activeModal||(e=n.modalConfig=jQuery.extend(!0,{},i,e),d.call(this,e,t)),this},this.close=function(e){return this.activeModal&&(e=n.modalConfig,this.activeModal.addClass("destroy"),jQuery(window).unbind("keydown.ax-modal"),jQuery(window).unbind("resize.ax-modal"),setTimeout(function(){this.activeModal.remove(),this.activeModal=null,s.call(this,e,{self:this,state:"close"})}.bind(this),i.animateTime)),this},this.minimize=function(){return function(e){var t=n.modalConfig;return"undefined"==typeof e&&(e=i.minimizePosition),this.minimized=!0,this.$.body.hide(),n.modalConfig.originalHeight=t.height,n.modalConfig.height=0,h[e].call(this),s.call(this,t,{self:this,state:"minimize"}),this}}(),this.maximize=function(){var e=n.modalConfig;return this.minimized&&(this.minimized=!1,this.$.body.show(),n.modalConfig.height=n.modalConfig.originalHeight,n.modalConfig.originalHeight=void 0,this.align({left:"center",top:"middle"}),s.call(this,e,{self:this,state:"restore"})),this},this.css=function(e){return this.activeModal&&!n.fullScreen&&(this.activeModal.css(e),e.width&&(n.modalConfig.width=this.activeModal.width()),e.height&&(n.modalConfig.height=this.activeModal.height(),this.$.iframe&&(this.$["iframe-wrap"].css({height:n.modalConfig.height}),this.$.iframe.css({height:n.modalConfig.height})))),this},this.align=function(){return function(e,t){if(!this.activeModal)return this;var i=n.modalConfig,a={width:i.width,height:i.height};return i.fullScreen?(i.header&&this.$.header.hide(),a.width=jQuery(window).width(),a.height=jQuery(window).height(),a.left=0,a.top=0,i.iframe&&(this.$["iframe-wrap"].css({height:a.height}),this.$.iframe.css({height:a.height}))):(e&&jQuery.extend(!0,i.position,e),i.header&&(a.height+=this.$.header.outerHeight()),"left"==i.position.left?a.left=i.position.margin||0:"right"==i.position.left?a.left=jQuery(window).width()-a.width-(i.position.margin||0):"center"==i.position.left?a.left=jQuery(window).width()/2-a.width/2:a.left=i.position.left||0,"top"==i.position.top?a.top=i.position.margin||0:"bottom"==i.position.top?a.top=jQuery(window).height()-a.height-(i.position.margin||0):"middle"==i.position.top?a.top=jQuery(window).height()/2-a.height/2:a.top=i.position.top||0),this.activeModal.css(a),this}}(),this.main=function(){e.modal_instance=e.modal_instance||[],e.modal_instance.push(this),arguments&&t.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return i}())}(),function(){var e=ax5.ui,t=ax5.util;e.addClass({className:"calendar",version:"0.8.7"},function(){var i=function(){var i,n=this,a=1;this.target=null,this.selection=[],this.selectionMap={},this.selectableMap={},this.markerMap={},this.printedDay={start:"",end:""},this.config={clickEventName:"click",theme:"default",mode:"day",dateFormat:"yyyy-MM-dd",displayDate:new Date,animateTime:250,dimensions:{controlHeight:"40",controlButtonWidth:"40",colHeadHeight:"30",itemPadding:2},lang:{yearHeading:"Choose the year",monthHeading:"Choose the month",yearTmpl:"%s",months:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],dayTmpl:"%s"},multipleSelect:!1,selectMode:"day",defaultMarkerTheme:"holiday",defaultPeriodTheme:"period"},i=this.config;var o=function(e,t){e&&e.onStateChanged?e.onStateChanged.call(t,t):this.onStateChanged&&this.onStateChanged.call(t,t),t=null},s=function(){return'\n                <div class="ax5-ui-calendar {{theme}}" data-calendar-els="root" onselectstart="return false;">\n                    {{#control}}\n                    <div class="calendar-control" data-calendar-els="control" style="{{controlCSS}}">\n                        <a class="date-move-left" data-calendar-move="left" style="{{controlButtonCSS}}">{{{left}}}</a>\n                        <div class="date-display" data-calendar-els="control-display" style="{{controlCSS}}"></div>\n                        <a class="date-move-right" data-calendar-move="right" style="{{controlButtonCSS}}">{{{right}}}</a>\n                    </div>\n                    {{/control}}\n                    <div class="calendar-body" data-calendar-els="body"></div>\n                </div>\n                '},l=function(){var e=jQuery.extend(!0,{},i,{controlCSS:{},controlButtonCSS:{}}),n=s();e.controlButtonCSS.height=e.controlCSS.height=t.cssNumber(i.dimensions.controlHeight),e.controlButtonCSS["line-height"]=e.controlCSS["line-height"]=t.cssNumber(i.dimensions.controlHeight),e.controlButtonCSS.width=t.cssNumber(i.dimensions.controlHeight),e.controlCSS=t.css(e.controlCSS),e.controlButtonCSS=t.css(e.controlButtonCSS);try{return ax5.mustache.render(n,e)}finally{e=null,n=null}},r=function(){return'\n                <table data-calendar-table="day" cellpadding="0" cellspacing="0" style="width:100%;">\n                    <thead>\n                        <tr>\n                        {{#weekNames}}\n                            <td class="calendar-col-{{col}}" style="height: {{colHeadHeight}}">\n                            {{label}}\n                            </td>\n                        {{/weekNames}}\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            {{#list}}    \n                            {{#isStartOfWeek}}\n                            {{^@first}}\n                        </tr>\n                        <tr>\n                            {{/@first}}\n                            {{/isStartOfWeek}}\n                            <td class="calendar-col-{{col}}" style="{{itemStyles}}">\n                                <a class="calendar-item-day {{addClass}}" data-calendar-item-date="{{thisDate}}">\n                                    <span class="addon addon-header"></span>\n                                    {{thisDataLabel}}\n                                    <span class="addon addon-footer"></span>\n                                </a>\n                            </td>\n                            {{/list}}\n                        </tr>\n                    </tbody>\n                </table>\n                '},d=function(){return'\n                <table data-calendar-table="month" cellpadding="0" cellspacing="0" style="width:100%;">\n                    <thead>\n                        <tr>\n                            <td class="calendar-col-0" colspan="3" style="height: {{colHeadHeight}}">\n                            {{colHeadLabel}}\n                            </td>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            {{#list}}    \n                            {{#isStartOfRow}}\n                            {{^@first}}\n                        </tr>\n                        <tr>\n                            {{/@first}}\n                            {{/isStartOfRow}}\n                            <td class="calendar-col-{{col}}" style="{{itemStyles}}">\n                                <a class="calendar-item-month {{addClass}}" data-calendar-item-month="{{thisMonth}}">\n                                    <span class="addon"></span>\n                                    {{thisMonthLabel}}\n                                    <span class="lunar"></span>\n                                </a>\n                            </td>\n                            {{/list}}\n                        </tr>\n                    </tbody>\n                </table>\n                '},c=function(){return'\n                <table data-calendar-table="year" cellpadding="0" cellspacing="0" style="width:100%;">\n                    <thead>\n                        <tr>\n                            <td class="calendar-col-0" colspan="4" style="height: {{colHeadHeight}}">\n                            {{colHeadLabel}}\n                            </td>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            {{#list}}    \n                            {{#isStartOfRow}}\n                            {{^@first}}\n                        </tr>\n                        <tr>\n                            {{/@first}}\n                            {{/isStartOfRow}}\n                            <td class="calendar-col-{{col}}" style="{{itemStyles}}">\n                                <a class="calendar-item-year {{addClass}}" data-calendar-item-year="{{thisYear}}">\n                                    <span class="addon"></span>\n                                    {{thisYearLabel}}\n                                    <span class="lunar"></span>\n                                </a>\n                            </td>\n                            {{/list}}\n                        </tr>\n                    </tbody>\n                </table>\n                '},u=function(){var e,n,a=t.date(i.displayDate),o="",s="";return i.control&&("day"==i.mode||"d"==i.mode?(o=i.control.yearTmpl?i.control.yearTmpl.replace("%s",a.getFullYear()):a.getFullYear(),s=i.control.monthTmpl?i.control.monthTmpl.replace("%s",i.lang.months[a.getMonth()]):i.lang.months[a.getMonth()],this.$["control-display"].html(function(){return i.control.yearFirst?'<span data-calendar-display="year">'+o+'</span><span data-calendar-display="month">'+s+"</span>":'<span data-calendar-display="month">'+s+'</span><span data-calendar-display="year">'+o+"</span>"}())):"month"==i.mode||"m"==i.mode?(o=i.control.yearTmpl?i.control.yearTmpl.replace("%s",a.getFullYear()):a.getFullYear(),this.$["control-display"].html('<span data-calendar-display="year">'+o+"</span>")):("year"==i.mode||"y"==i.mode)&&(e=i.control.yearTmpl?i.control.yearTmpl.replace("%s",a.getFullYear()-10):a.getFullYear()-10,n=i.control.yearTmpl?i.control.yearTmpl.replace("%s",Number(a.getFullYear())+9):Number(a.getFullYear())+9,this.$["control-display"].html(e+" ~ "+n)),this.$["control-display"].find("[data-calendar-display]").on(i.clickEventName,function(e){var i,n=t.findParentNode(e.target,function(e){return e.getAttribute("data-calendar-display")?!0:void 0});n&&(i=n.getAttribute("data-calendar-display"),this.changeMode(i)),n=null,i=null}.bind(this))),a=null,o=null,s=null,e=null,n=null,this},h=function(e){var a,s,l,d,c=t.date(e),h=new Date(c.getFullYear(),c.getMonth(),1,12),p=i.displayDate,f=function(){var e=h.getDay();0==e&&(e=7);try{return t.date(h,{add:{d:-e}})}finally{e=null}}(),g=c.getMonth(),b={},v=this.$.body.width(),x=Math.floor(v*(6/7)),y=r();for(i.dimensions.height&&(x=t.number(i.dimensions.height)-t.number(i.dimensions.colHeadHeight)),b.height=Math.floor(x/6)-2*t.number(i.dimensions.itemPadding)+"px",b["line-height"]=b.height,b.padding=t.cssNumber(i.dimensions.itemPadding),d={weekNames:[].concat(ax5.info.weekNames),list:[]},d.weekNames.forEach(function(e){e.colHeadHeight=t.cssNumber(i.dimensions.colHeadHeight)}),a=f,s=0;6>s;){for(l=0;7>l;){var w=""+t.date(a,{"return":i.dateFormat}),k={row:s,col:l,isStartOfWeek:0==l,thisDate:""+w,thisDataLabel:i.lang.dayTmpl.replace("%s",a.getDate()),itemStyles:t.css(b),addClass:function(){return i.selectable?n.selectableMap[w]?a.getMonth()==g?"live":"":"disable":a.getMonth()==g?w==t.date(p,{"return":"yyyyMMdd"})?"focus":"live":""}()+" "+function(){return n.markerMap[w]?n.markerMap[w].theme||i.defaultMarkerTheme:""}()+" "+function(){return n.selectionMap[w]?"selected-day":""}()};d.list.push(k),l++,a=t.date(a,{add:{d:1}}),w=null,k=null}s++}this.$.body.html(ax5.mustache.render(y,d)),this.$.body.find("[data-calendar-item-date]").on(i.clickEventName,function(e){e=e||window.event,m.call(n,e,"date"),t.stopEvent(e)}),this.printedDay={start:f,end:a},o.call(this,null,{self:this,action:"printDay",printedDay:this.printedDay}),u.call(this),c=null,h=null,p=null,f=null,a=null,g=null,b=null,s=null,l=null,v=null,x=null,d=null,y=null},p=function(e){var a,s,l,r,c,h=t.date(e),p=h.getMonth(),f={},g=this.$.body.width(),b=Math.floor(g*(6/7)),v=d();for(i.dimensions.height&&(b=t.number(i.dimensions.height)-t.number(i.dimensions.colHeadHeight)),f.height=Math.floor(b/4)-2*t.number(i.dimensions.itemPadding)+"px",f["line-height"]=f.height,f.padding=t.cssNumber(i.dimensions.itemPadding),c={colHeadHeight:t.cssNumber(i.dimensions.colHeadHeight),colHeadLabel:i.lang.monthHeading,list:[]},r=0,l=0,a=0;4>a;){for(s=0;3>s;){var x={row:a,col:s,isStartOfRow:0==s,thisMonth:h.getFullYear()+"-"+t.setDigit(l+1,2)+"-"+t.setDigit(h.getDate(),2),thisMonthLabel:i.lang.months[l],itemStyles:t.css(f),addClass:function(){return i.selectable?n.selectableMap[l]?"live":"disable":"live"}()+" "+function(){return l==p?"focus":""}()+" "+function(){return n.markerMap[l]?n.markerMap[l].theme||i.defaultMarkerTheme:""}()};c.list.push(x),l++,s++,x=null}a++}this.$.body.html(ax5.mustache.render(v,c)),this.$.body.find("[data-calendar-item-month]").on(i.clickEventName,function(e){e=e||window.event,m.call(n,e,"month"),t.stopEvent(e)}),this.printedDay={start:h.getFullYear()+"-"+t.setDigit(r+1,2),end:h.getFullYear()+"-"+t.setDigit(l,2)},o.call(this,null,{self:this,action:"printMonth",printedDay:this.printedDay}),u.call(this),h=null,p=null,f=null,a=null,s=null,l=null,r=null,g=null,b=null,c=null,v=null},f=function(e){var a,s,l,r,d,h=t.date(e),p=h.getFullYear(),f={},g=this.$.body.width(),b=Math.floor(g*(6/7)),v=c();for(i.dimensions.height&&(b=t.number(i.dimensions.height)-t.number(i.dimensions.colHeadHeight)),f.height=Math.floor(b/5)-2*t.number(i.dimensions.itemPadding)+"px",f["line-height"]=f.height,f.padding=t.cssNumber(i.dimensions.itemPadding),d={colHeadHeight:t.cssNumber(i.dimensions.colHeadHeight),colHeadLabel:i.lang.yearHeading,list:[]},r=p-10,l=p-10,a=0;5>a;){for(s=0;4>s;){var x={row:a,col:s,isStartOfRow:0==s,thisYear:l+"-"+t.setDigit(h.getMonth()+1,2)+"-"+t.setDigit(h.getDate(),2),thisYearLabel:i.lang.yearTmpl.replace("%s",l),itemStyles:t.css(f),addClass:function(){return i.selectable?n.selectableMap[l]?"live":"disable":"live"}()+" "+function(){return l==p?"focus":""}()+" "+function(){return n.selectableMap[l]?n.selectableMap[l].theme||i.defaultMarkerTheme:""}()};d.list.push(x),l++,s++,x=null}a++}this.$.body.html(ax5.mustache.render(v,d)),this.$.body.find("[data-calendar-item-year]").on(i.clickEventName,function(e){e=e||window.event,m.call(this,e,"year"),t.stopEvent(e)}),this.printedDay={start:r,end:l-1},o.call(this,null,{self:this,action:"printYear",printedDay:this.printedDay}),u.call(this),h=null,p=null,f=null,a=null,s=null,l=null,r=null,g=null,b=null,d=null,v=null},m=function(e,o,s,l){var r,d,c;o=o||"date",s=t.findParentNode(e.target,function(e){return e.getAttribute("data-calendar-item-"+o)?!0:void 0}),s&&(l=s.getAttribute("data-calendar-item-"+o),d=t.date(l,{"return":i.dateFormat}),c=!0,a=i.multipleSelect?t.isNumber(i.multipleSelect)?i.multipleSelect:2:1,i.selectable&&(n.selectableMap[d]||(c=!1)),"date"==o?c&&(n.selection.length>=a&&(r=n.selection.splice(0,n.selection.length-(a-1)),r.forEach(function(e){n.$.body.find('[data-calendar-item-date="'+t.date(e,{"return":i.dateFormat})+'"]').removeClass("selected-day")})),jQuery(s).addClass("selected-day"),n.selection.push(l),n.onClick&&n.onClick.call({self:this,date:l,target:this.target,dateElement:s})):"month"==o?"month"==i.selectMode?c&&(n.selection.length>=a&&(r=n.selection.splice(0,n.selection.length-(a-1)),r.forEach(function(e){n.$.body.find('[data-calendar-item-month="'+t.date(e,{"return":"yyyy-MM-dd"})+'"]').removeClass("selected-month")})),jQuery(s).addClass("selected-month"),n.selection.push(l),n.onClick&&n.onClick.call({self:this,date:l,target:this.target,dateElement:s})):n.changeMode("day",l):"year"==o&&("year"==i.selectMode?c&&(n.selection.length>=a&&(r=n.selection.splice(0,n.selection.length-(a-1)),r.forEach(function(e){n.$.body.find('[data-calendar-item-year="'+t.date(e,{"return":"yyyy-MM-dd"})+'"]').removeClass("selected-year")})),jQuery(s).addClass("selected-year"),n.selection.push(l),n.onClick&&n.onClick.call({self:this,date:l,target:this.target,dateElement:s})):n.changeMode("month",l))),o=null,s=null,l=null,r=null,d=null,c=null},g=function(e,n,a){n=t.findParentNode(e.target,function(e){return e.getAttribute("data-calendar-move")?!0:void 0}),n&&(a=n.getAttribute("data-calendar-move"),"day"==i.mode?("left"==a?i.displayDate=t.date(i.displayDate,{add:{m:-1}}):i.displayDate=t.date(i.displayDate,{add:{m:1}}),h.call(this,i.displayDate)):"month"==i.mode?("left"==a?i.displayDate=t.date(i.displayDate,{add:{y:-1}}):i.displayDate=t.date(i.displayDate,{add:{y:1}}),p.call(this,i.displayDate)):"year"==i.mode&&("left"==a?i.displayDate=t.date(i.displayDate,{add:{y:-10}}):i.displayDate=t.date(i.displayDate,{add:{y:10}}),f.call(this,i.displayDate))),n=null,a=null},b=function(){setTimeout(function(){
if("day"===i.mode||"d"===i.mode)for(var e in this.markerMap)this.$.body.find('[data-calendar-item-date="'+e+'"]').addClass(this.markerMap[e].theme||i.defaultMarkerTheme)}.bind(this))},v=function(){setTimeout(function(){for(var e in this.selectionMap)this.$.body.find('[data-calendar-item-date="'+e+'"]').addClass("selected-day")}.bind(this))},x=function(){setTimeout(function(){if("day"===i.mode||"d"===i.mode)for(var e in this.periodMap)this.periodMap[e].label&&this.$.body.find('[data-calendar-item-date="'+e+'"]').find(".addon-footer").html(this.periodMap[e].label),this.$.body.find('[data-calendar-item-date="'+e+'"]').addClass(this.periodMap[e].theme)}.bind(this))},y=function(){if("day"===i.mode||"d"===i.mode)for(var e in this.periodMap)this.$.body.find('[data-calendar-item-date="'+e+'"]').find(".addon-footer").empty(),this.$.body.find('[data-calendar-item-date="'+e+'"]').removeClass(this.periodMap[e].theme)};this.init=function(){this.onStateChanged=i.onStateChanged,this.onClick=i.onClick,i.target||console.log(ax5.info.getError("ax5calendar","401","setConfig")),this.target=jQuery(i.target),i.displayDate=t.date(i.displayDate),this.target.html(l.call(this)),this.$={root:this.target.find('[data-calendar-els="root"]'),control:this.target.find('[data-calendar-els="control"]'),"control-display":this.target.find('[data-calendar-els="control-display"]'),body:this.target.find('[data-calendar-els="body"]')},i.control&&this.$.control.find("[data-calendar-move]").on(i.clickEventName,function(e){g.call(this,e||window.event)}.bind(this)),i.selection&&this.setSelection(i.selection,!1),i.selectable&&this.setSelectable(i.selectable,!1),i.marker&&this.setMarker(i.marker,!1),setTimeout(function(){"day"===i.mode||"d"===i.mode?h.call(this,i.displayDate):"month"===i.mode||"m"===i.mode?p.call(this,i.displayDate):("year"===i.mode||"y"===i.mode)&&f.call(this,i.displayDate)}.bind(this))},this.changeMode=function(e,t){return"undefined"!=typeof t&&(i.displayDate=t),e&&(i.mode=e),this.$.body.removeClass("fadein").addClass("fadeout"),setTimeout(function(){"day"==i.mode||"d"==i.mode?h.call(this,i.displayDate):"month"==i.mode||"m"==i.mode?p.call(this,i.displayDate):("year"==i.mode||"y"==i.mode)&&f.call(this,i.displayDate),this.$.body.removeClass("fadeout").addClass("fadein")}.bind(this),i.animateTime),this},this.setSelection=function(){n.selectionMap={};var e={arr:function(e,a,o){return a={},t.isArray(e)?(n.selection=e=e.splice(0,o),e.forEach(function(e){t.isDate(e)&&(e=t.date(e,{"return":i.dateFormat})),a[e]=!0}),a):a}};return function(n,o){var s={};if(a=i.multipleSelect?t.isNumber(i.multipleSelect)?i.multipleSelect:2:1,i.selection=n){if(!t.isArray(n))return this;s=e.arr(n,{},a)}return this.selectionMap=jQuery.extend({},s),o!==!1&&v.call(this),s=null,this}}(),this.getSelection=function(){return this.selection},this.setSelectable=function(){n.selectableMap={};var e={arr:function(e,n){return n={},t.isArray(e)?(e.forEach(function(e){t.isDate(e)&&(e=t.date(e,{"return":i.dateFormat})),n[e]=!0}),n):n},obj:function(e,i){if(i={},t.isArray(e))return i;if(e.range)return i;for(var n in e)i[n]=e[n];return i},range:function(e,n){return n={},t.isArray(e)?n:e.range?(e.range.forEach(function(e){if(t.isDateFormat(e.from)&&t.isDateFormat(e.to))for(var a=t.date(e.from);a<=t.date(e.to);a.setDate(a.getDate()+1))n[t.date(a,{"return":i.dateFormat})]=!0;else for(var o=e.from;o<=e.to;o++)n[o]=!0}),n):n}};return function(n,a){var o,s={};if(i.selectable=n)if(t.isArray(n))s=e.arr(n);else{for(o in e)if(n[o]){s=e[o](n);break}0===Object.keys(s).length&&(s=e.obj(n))}return this.selectableMap=s,a!==!1&&this.changeMode(),this}}(),this.setMarker=function(){n.markerMap={};var e={obj:function(e,i){if(i={},t.isArray(e))return i;if(e.range)return i;for(var n in e)i[n]=e[n];return e=null,i},range:function(e,n){return n={},t.isArray(e)?n:e.range?(e.range.forEach(function(e){if(t.isDateFormat(e.from)&&t.isDateFormat(e.to))for(var a=t.date(e.from);a<=t.date(e.to);a.setDate(a.getDate()+1))n[t.date(a,{"return":i.dateFormat})]={theme:e.theme,label:e.label};else for(var o=e.from;o<=e.to;o++)n[o]={theme:e.theme,label:e.label}}),e=null,n):n}};return function(t,n){var a,o={};if(i.marker=t){for(a in e)if(t[a]){o=e[a](t);break}0===Object.keys(o).length&&(o=e.obj(t))}return this.markerMap=o,n!==!1&&b.call(this),this}}(),this.setPeriod=function(){n.periodMap={};var e={range:function(e,n){return n={},t.isArray(e)?n:e.range?(e.range.forEach(function(e){if(t.isDateFormat(e.from)&&t.isDateFormat(e.to))for(var a=new Date(t.date(e.from));a<=t.date(e.to);a.setDate(a.getDate()+1))a.getTime()==t.date(e.from).getTime()?n[t.date(a,{"return":i.dateFormat})]={theme:e.theme||i.defaultPeriodTheme,label:e.fromLabel}:a.getTime()==t.date(e.to).getTime()?n[t.date(a,{"return":i.dateFormat})]={theme:e.theme||i.defaultPeriodTheme,label:e.toLabel}:n[t.date(a,{"return":i.dateFormat})]={theme:e.theme||i.defaultPeriodTheme}}),e=null,n):n}};return function(t,n){var a={};return n!==!1&&y.call(this),(i.period=t)&&(a=e.range(t)),this.periodMap=a,n!==!1&&x.call(this),this}}(),this.main=function(){e.calendar_instance=e.calendar_instance||[],e.calendar_instance.push(this),arguments&&t.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return i}())}(),function(){var e=ax5.ui,t=ax5.util;e.addClass({className:"picker",version:"0.7.2"},function(){var e=function(){var e,i=this;this.config={clickEventName:"click",theme:"default",title:"",lang:{ok:"ok",cancel:"cancel"},animateTime:250},this.queue=[],this.activePicker=null,this.activePickerQueueIndex=-1,this.openTimer=null,this.closeTimer=null,e=this.config;var n=function(e,t){return e&&e.onStateChanged?e.onStateChanged.call(t,t):this.onStateChanged&&this.onStateChanged.call(t,t),!0},a=function(){var i={focus:function(e,t){this.open(e)},click:function(e,t){this.open(e)}},n={"@fn":function(t){var i=this.queue[t],n={},a=i.$target.find('input[type="text"]').length;n={inputLength:a||1},a>1&&(n.btns={ok:{label:e.lang.ok,theme:e.theme}}),this.queue[t]=jQuery.extend(!0,n,i),n=null,a=null},date:function(t){var i=this.queue[t],n=i.content?i.content.width||270:270,a=i.content?i.content.margin||5:5,o={},s=i.$target.find('input[type="text"]').length;o={contentWidth:n*s+(s-1)*a,content:{width:n,margin:a},inputLength:s||1},s>1&&!i.btns&&(o.btns={ok:{label:e.lang.ok,theme:e.theme}}),this.queue[t]=jQuery.extend(!0,o,i),n=null,a=null,o=null,s=null},"secure-num":function(e){var t=this.queue[e],i={},n=t.$target.find('input[type="text"]').length;i={inputLength:n||1},this.queue[e]=jQuery.extend(!0,i,t),i=null,n=null}};return function(e){var a,o=this.queue[e];if(!o.content)return console.log(ax5.info.getError("ax5picker","501","bind")),this;if(t.isFunction(o.content))n["@fn"].call(this,e);else for(var s in n)if(o.content.type==s){n[s].call(this,e);break}return a="INPUT"==o.$target.get(0).tagName.toUpperCase()?o.$target:o.$target.find("input[type]"),a.unbind("focus.ax5picker").unbind("click.ax5picker").bind("focus.ax5picker",i.focus.bind(this,e)).bind("click.ax5picker",i.click.bind(this,e)),o.$target.find(".input-group-addon").unbind("click.ax5picker").bind("click.ax5picker",i.click.bind(this,e)),o.content.formatter&&ax5.ui.formatter&&a.ax5formatter(o.content.formatter),a=null,o=null,e=null,this}}(),o=function(e){return'\n                <div class="ax5-ui-picker {{theme}}" id="{{id}}" data-picker-els="root">\n                    {{#title}}\n                        <div class="ax-picker-heading">{{title}}</div>\n                    {{/title}}\n                    <div class="ax-picker-body">\n                        <div class="ax-picker-content" data-picker-els="content" style="width:{{contentWidth}}px;"></div>\n                        {{#btns}}\n                            <div class="ax-picker-buttons">\n                            {{#btns}}\n                                {{#@each}}\n                                <button data-picker-btn="{{@key}}" class="btn btn-default {{@value.theme}}">{{@value.label}}</button>\n                                {{/@each}}\n                            {{/btns}}\n                            </div>\n                        {{/btns}}\n                    </div>\n                    <div class="ax-picker-arrow"></div>\n                </div>\n                '},s=function(e){if(!this.activePicker)return this;var t=this.queue[this.activePickerQueueIndex],i={},n={};e&&jQuery(document.body).append(this.activePicker),i=t.$target.offset(),n={width:t.$target.outerWidth(),height:t.$target.outerHeight()},t.direction&&""!==t.direction&&"auto"!==t.direction||(t.direction="top"),e&&this.activePicker.addClass("direction-"+t.direction),this.activePicker.css(function(){return"top"==t.direction?{left:i.left+n.width/2-this.activePicker.outerWidth()/2,top:i.top+n.height+12}:"bottom"==t.direction?{left:i.left+n.width/2-this.activePicker.outerWidth()/2,top:i.top-this.activePicker.outerHeight()-12}:"left"==t.direction?{left:i.left+n.width+12,top:i.top-n.height/2}:"right"==t.direction?{left:i.left-this.activePicker.outerWidth()-12,top:i.top-n.height/2}:void 0}.call(this))},l=function(e,i){if(!this.activePicker)return this;var n=this.queue[this.activePickerQueueIndex];return i=t.findParentNode(e.target,function(e){return e.getAttribute("data-picker-els")?!0:n.$target.get(0)==e?!0:void 0}),i?this:(this.close(),this)},r=function(e,i){if(e.srcElement&&(e.target=e.srcElement),i=t.findParentNode(e.target,function(e){return e.getAttribute("data-picker-btn")?!0:void 0})){var n=this.queue[this.activePickerQueueIndex],a=i.getAttribute("data-picker-btn");if(n.btns&&n.btns[a].onClick){var o={key:a,value:n.btns[a],self:this,item:n};n.btns[a].onClick.call(o,a)}else this.close()}},d=function(e){e.keyCode==ax5.info.eventKeys.ESC&&this.close()},c=function(e){return t.isString(e)||(e=jQuery(e).data("data-axpicker-id")),t.isString(e)?t.search(this.queue,function(){return this.id==e}):void console.log(ax5.info.getError("ax5picker","402","getQueIdx"))};this.init=function(){this.onStateChanged=e.onStateChanged},this.bind=function(i){var n,o={};return i=jQuery.extend(!0,o,e,i),i.target?(i.$target=jQuery(i.target),i.$target.get(0)?(i.id||(i.id=i.$target.data("data-axpicker-id")),i.id||(i.id="ax5-picker-"+ax5.getGuid(),i.$target.data("data-axpicker-id",i.id)),n=t.search(this.queue,function(){return this.id==i.id}),-1===n?(this.queue.push(i),a.call(this,this.queue.length-1)):(this.queue[n]=jQuery.extend(!0,{},this.queue[n],i),a.call(this,n)),o=null,n=null,this):(console.log(ax5.info.getError("ax5picker","401","bind")),this)):(console.log(ax5.info.getError("ax5picker","401","bind")),this)},this.setContentValue=function(e,a,o){var s,l=t.isNumber(e)?e:c.call(this,e),r=this.queue[l];return r&&(s="INPUT"==r.$target.get(0).tagName.toUpperCase()?r.$target:jQuery(r.$target.find("input[type]").get(a)),s.val(o),n.call(this,r,{self:i,state:"changeValue",item:r,value:o}),1==r.inputLength&&this.close()),r=null,e=null,a=null,o=null,this},this.open=function(){var a={"@fn":function(e,t){var i=this.queue[e];return i.content.call(i,function(e){t(e)}),!0},date:function(e){for(var n=this.queue[e],a=[],o=0;o<n.inputLength;o++)a.push('<div style="width:'+t.cssNumber(n.content.width)+';float:left;" class="ax-picker-content-box" data-calendar-target="'+o+'"></div>'),o<n.inputLength-1&&a.push('<div style="width:'+n.content.margin+'px;float:left;height: 5px;"></div>');a.push('<div style="clear:both;"></div>'),n.pickerContent.html(a.join(""));var s={displayDate:new Date,control:{left:'<i class="fa fa-chevron-left"></i>',yearTmpl:"%s",monthTmpl:"%s",right:'<i class="fa fa-chevron-right"></i>',yearFirst:!0}};n.pickerContent.find("[data-calendar-target]").each(function(){var e=this.getAttribute("data-calendar-target"),t=n.$target.find("input[type]").get(e).value,a=ax5.util.date(t);s.displayDate=a,t&&(s.selection=[a]),s=jQuery.extend(!0,s,n.content.config||{}),s.target=this,s.onClick=function(){i.setContentValue(n.id,e,this.date)},new ax5.ui.calendar(s)})},"secure-num":function(e){for(var a=this.queue[e],o=[],s=0;s<a.inputLength;s++)o.push('<div style="width:'+t.cssNumber(a.content.width)+';float:left;" class="ax-picker-content-box" data-secure-num-target="'+s+'"></div>'),s<a.inputLength-1&&o.push('<div style="width:'+a.content.margin+'px;float:left;height: 5px;"></div>');o.push('<div style="clear:both;"></div>'),a.pickerContent.html(o.join("")),a.pickerContent.find("[data-secure-num-target]").each(function(){var e=this.getAttribute("data-secure-num-target"),t=[],o=function(e){var t,i,n;for(n=e.length;n;n-=1)t=Math.floor(Math.random()*n),i=e[n-1],e[n-1]=e[t],e[t]=i;return e}([0,1,2,3,4,5,6,7,8,9]),s=[{label:"&#x02190",fn:"back"},{label:"C",fn:"clear"}];o.forEach(function(e){t.push('<div style="float:left;'+a.content.config.btnWrapStyle+'">'),t.push('<button class="btn btn-default btn-'+a.content.config.btnTheme+'" style="'+a.content.config.btnStyle+'" data-secure-num-value="'+e+'">'+e+"</button>"),t.push("</div>")}),s.forEach(function(e){t.push('<div style="float:left;'+a.content.config.btnWrapStyle+'">'),t.push('<button class="btn btn-default btn-'+a.content.config.specialBtnTheme+'" style="'+a.content.config.btnStyle+'" data-secure-num-value="'+e.fn+'">'+e.label+"</button>"),t.push("</div>")}),t.push('<div style="clear:both;"></div>'),$(this).html(t.join("")).find("[data-secure-num-value]").click(function(){var t=this.getAttribute("data-secure-num-value"),o="INPUT"==a.$target.get(0).tagName.toUpperCase()?a.$target:jQuery(a.$target.find("input[type]").get(e)),s=o.val();"back"==t?o.val(s.substring(0,s.length-1)):"clear"==t?o.val(""):o.val(s+t),n.call(this,a,{self:i,state:"changeValue",item:a,value:o.val()})})})}};return function(i,u){var h=t.isNumber(i)?i:c.call(this,i),p=this.queue[h];if(this.openTimer&&clearTimeout(this.openTimer),this.activePicker)return this.activePickerQueueIndex==h?this:u>2?this:(this.close(),this.openTimer=setTimeout(function(){this.open(h,(u||0)+1)}.bind(this),e.animateTime),this);if(this.activePicker=jQuery(ax5.mustache.render(o.call(this,p,h),p)),this.activePickerQueueIndex=h,p.pickerContent=this.activePicker.find('[data-picker-els="content"]'),t.isFunction(p.content))p.pickerContent.html("Loading.."),a["@fn"].call(this,h,function(e){p.pickerContent.html(e)});else for(var f in a)if(p.content.type==f){a[f].call(this,h);break}return this.activePicker.find("[data-picker-btn]").on(e.clickEventName,function(e){r.call(this,e||window.event,h)}.bind(this)),s.call(this,"append"),jQuery(window).bind("resize.ax5picker",function(){s.call(this)}.bind(this)),jQuery(window).bind("keyup.ax5picker",function(e){e=e||window.event,d.call(this,e),t.stopEvent(e)}.bind(this)),jQuery(window).bind("click.ax5picker",function(e){e=e||window.event,l.call(this,e),t.stopEvent(e)}.bind(this)),n.call(this,p,{self:this,state:"open",item:p}),this}}(),this.close=function(t){return this.closeTimer&&clearTimeout(this.closeTimer),this.activePicker?(t=this.queue[this.activePickerQueueIndex],this.activePicker.addClass("destroy"),jQuery(window).unbind("resize.ax5picker"),jQuery(window).unbind("click.ax5picker"),jQuery(window).unbind("keyup.ax5picker"),this.closeTimer=setTimeout(function(){this.activePicker&&this.activePicker.remove(),this.activePicker=null,this.activePickerQueueIndex=-1,n.call(this,t,{self:this,state:"close"})}.bind(this),e.animateTime),this):this},this.main=function(){arguments&&t.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return e}())}(),ax5.ui.picker_instance=new ax5.ui.picker,jQuery.fn.ax5picker=function(){return function(e){if(ax5.util.isString(arguments[0])){var t=arguments[0];switch(t){case"open":return ax5.ui.select_instance.open(this);case"close":return ax5.ui.select_instance.close(this);case"setValue":return ax5.ui.select_instance.setContentValue(this,arguments[1],arguments[2]);default:return this}}else"undefined"==typeof e&&(e={}),jQuery.each(this,function(){var t={target:this};e=jQuery.extend(!0,e,t),ax5.ui.picker_instance.bind(e)});return this}}(),function(){var e=ax5.ui,t=ax5.util;e.addClass({className:"formatter",version:"0.5.2"},function(){var e=new Date,i=function(e,t){if("undefined"==typeof t&&(t=e.value.length),e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var i=e.createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",t),i.select()}else e.selectionStart&&(e.focus(),e.selectionStart=t,e.selectionEnd=t)},n=function(){var n,a=this;this.config={animateTime:250},this.queue=[],this.openTimer=null,this.closeTimer=null,n=this.config;var o={18:"KEY_ALT",8:"KEY_BACKSPACE",17:"KEY_CONTROL",46:"KEY_DELETE",40:"KEY_DOWN",35:"KEY_END",187:"KEY_EQUAL",27:"KEY_ESC",36:"KEY_HOME",45:"KEY_INSERT",37:"KEY_LEFT",189:"KEY_MINUS",34:"KEY_PAGEDOWN",33:"KEY_PAGEUP",13:"KEY_RETURN",39:"KEY_RIGHT",16:"KEY_SHIFT",9:"KEY_TAB",38:"KEY_UP",91:"KEY_WINDOW"},s={48:1,49:1,50:1,51:1,52:1,53:1,54:1,55:1,56:1,57:1,96:1,97:1,98:1,99:1,100:1,101:1,102:1,103:1,104:1,105:1},l={money:function(e,t){var i={188:","};"int"==e.patternArgument||(i[190]="."),e.enterableKeyCodes=$.extend(i,o,s)},number:function(e,t){var i={190:"."};e.enterableKeyCodes=$.extend(i,o,s)},date:function(e,t){var i={189:"-",191:"/"};e.enterableKeyCodes=$.extend(i,o,s)},time:function(e,t){var i={186:":"};e.enterableKeyCodes=$.extend(i,o,s)},bizno:function(e,t){var i={189:"-"};e.enterableKeyCodes=$.extend(i,o,s)},phone:function(e,t){var i={189:"-",188:","};e.enterableKeyCodes=$.extend(i,o,s)},custom:function(e,t){e.getEnterableKeyCodes?e.enterableKeyCodes=e.getEnterableKeyCodes.call(e,{$input:e.$input}):e.enterableKeyCodes=null}},r={money:function(e,i,n,a,o){var s,a=a.replace(/[^0-9^\.^\-]/g,""),l=new RegExp("([0-9])([0-9][0-9][0-9][,.])"),r=a.split(".");r[0]+=".";do r[0]=r[0].replace(l,"$1,$2");while(l.test(r[0]));return s=r.length>1?t.isNumber(e.maxRound)?r[0]+t.left(r[1],e.maxRound):r.join(""):r[0].split(".")[0]},number:function(e,i,n,a,o){a=a.replace(/[^0-9^\.^\-]/g,"");var s,l=a.split(".");return s=l.length>1?t.isNumber(e.maxRound)?l[0]+t.left(l[1],e.maxRound):l.join(""):l[0].split(".")[0]},date:function(i,n,a,o,s){if(o=o.replace(/\D/g,""),""==o)return o;var l=/^([0-9]{4})\-?([0-9]{1,2})?\-?([0-9]{1,2})?.*$/;"time"==i.patternArgument&&(l=/^([0-9]{4})\-?([0-9]{1,2})?\-?([0-9]{1,2})? ?([0-9]{1,2})?:?([0-9]{1,2})?:?([0-9]{1,2})?.*$/);var r=o.match(l),d="",c=function(i,n,a,o){var s={Y:function(i){return"undefined"==typeof i&&(i=e.getFullYear()),(""==i||"0000"==i)&&(i=e.getFullYear()),i.length<4?t.setDigit(i,4):i},M:function(i){return"undefined"==typeof i&&(i=e.getMonth()+1),i>12?12:0==i?"01":t.setDigit(i,2)},D:function(i){"undefined"==typeof i&&(i=e.getDate()+1);var n=t.daysOfMonth(o[1],o[2]-1);return i>n?n:0==i?"01":t.setDigit(i,2)},h:function(e){return e||(e=0),e>23?23:t.setDigit(e,2)},m:function(e){return e||(e=0),e>59?59:t.setDigit(e,2)},s:function(e){return e||(e=0),e>59?59:t.setDigit(e,2)}};return a?s[n](i):i};return d=o.replace(l,function(e,t){var n=[c(arguments[1],"Y",s)];return(arguments[2]||s)&&n.push("-"+c(arguments[2],"M",s)),(arguments[3]||s)&&n.push("-"+c(arguments[3],"D",s,arguments)),"time"==i.patternArgument&&((arguments[4]||s)&&n.push(" "+c(arguments[4],"h",s)),(arguments[5]||s)&&n.push(":"+c(arguments[5],"m",s)),(arguments[6]||s)&&n.push(":"+c(arguments[6],"s",s))),n.join("")}),"blur"!=s||r?r||(d=d.length>4?t.left(d,4):d):d=function(){var e=[c(d,"Y",s)];return e.push("-"+c(0,"M",s)),e.push("-"+c(0,"D",s,arguments)),"time"==i.patternArgument&&(e.push(" "+c(0,"h",s)),e.push(":"+c(0,"m",s)),e.push(":"+c(0,"s",s))),e.join("")}(),d},time:function(e,i,n,a,o){a=a.replace(/\D/g,"");var s=/^([0-9]{1,2})?:?([0-9]{1,2})?:?([0-9]{1,2})?.*$/,l=a.match(s),r=a.replace(s,function(e,t){var i=[arguments[1]];return arguments[2]&&i.push(":"+arguments[2]),arguments[3]&&i.push(":"+arguments[3]),i.join("")});return l||(r=r.length>2?t.left(r,2):r),r},bizno:function(e,t,i,n,a){n=n.replace(/\D/g,"");var o=/^([0-9]{3})\-?([0-9]{1,2})?\-?([0-9]{1,5})?.*$/,s=n.replace(o,function(e,t){var i=[arguments[1]];return arguments[2]&&i.push(arguments[2]),arguments[3]&&i.push(arguments[3]),i.join("-")});return s},phone:function(e,t,i,n,a){n=n.replace(/\D/g,"");var o=/^([0-9]{3})\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?/,s=n.replace(o,function(e,t){var i=[arguments[1]];return arguments[2]&&i.push(arguments[2]),arguments[3]&&i.push(arguments[3]),arguments[4]&&i.push(arguments[4]),arguments[5]&&i.push(arguments[5]),i.join("-")});return s},custom:function(e,t,i,n,a){return e.getPatternValue?e.getPatternValue.call(e,{event:i,$input:e.$input,value:n}):void 0}},d={focus:function(e,t,i){e.$input.data("__originValue__")||e.$input.data("__originValue__",e.$input.val())},keydown:function(e,t,i){var n=!1;e.enterableKeyCodes&&(i.which&&e.enterableKeyCodes[i.which]||i.metaKey||i.ctrlKey||i.shiftKey||(n=!0)),n&&ax5.util.stopEvent(i)},keyup:function(e,t,n){var a,o,s,l,d,c=e.$input.get(0);"selectionStart"in c?a=c.selectionStart:document.selection&&(l=document.selection.createRange(),d=document.selection.createRange().text.length,l.moveStart("character",-c.value.length),a=l.text.length-d),o=c.value,s=r[e.pattern]?r[e.pattern].call(this,e,t,n,c.value):o,s!=o&&(e.$input.val(s).trigger("change"),i(c,a+s.length-o.length))},blur:function(e,t,i){var n,a,o=e.$input.get(0);e.$input.removeData("__originValue__"),n=o.value,a=r[e.pattern]?r[e.pattern].call(this,e,t,i,o.value,"blur"):n,a!=n&&e.$input.val(a).trigger("change")}},c=function(e,t){if(!e.pattern&&("INPUT"==e.$target.get(0).tagName?e.pattern=e.$target.attr("data-ax5formatter"):e.pattern=e.$target.find('input[type="text"]').attr("data-ax5formatter"),!e.pattern))return console.log(ax5.info.getError("ax5formatter","501","bind")),console.log(e.target),this;var i=/[^\(^\))]+/gi,n=e.pattern.match(i);e.pattern=n[0],e.patternArgument=n[1]||"";for(var a in l)if(e.pattern==a){l[a].call(this,e,t);break}return e.$input.unbind("focus.ax5formatter").bind("focus.ax5formatter",d.focus.bind(this,this.queue[t],t)),e.$input.unbind("keydown.ax5formatter").bind("keydown.ax5formatter",d.keydown.bind(this,this.queue[t],t)),e.$input.unbind("keyup.ax5formatter").bind("keyup.ax5formatter",d.keyup.bind(this,this.queue[t],t)),e.$input.unbind("blur.ax5formatter").bind("blur.ax5formatter",d.blur.bind(this,this.queue[t],t)),d.blur.call(this,this.queue[t],t),this};this.init=function(){},this.bind=function(e){var i,o={};if(jQuery.extend(!0,o,n),e&&jQuery.extend(!0,o,e),e=o,!e.target)return console.log(ax5.info.getError("ax5formatter","401","bind")),this;if(e.$target=jQuery(e.target),"INPUT"==e.$target.get(0).tagName)e.$input=e.$target;else if(e.$input=e.$target.find('input[type="text"]'),e.$input.length>1)return e.$input.each(function(){e.target=this,a.bind(e)}),this;return e.$input="INPUT"==e.$target.get(0).tagName?e.$target:e.$target.find('input[type="text"]'),e.id||(e.id=e.$input.data("ax5-formatter")),e.id||(e.id="ax5-formatter-"+ax5.getGuid(),e.$input.data("ax5-formatter",e.id)),i=t.search(this.queue,function(){return this.id==e.id}),-1===i?(this.queue.push(e),c.call(this,this.queue[this.queue.length-1],this.queue.length-1)):(this.queue[i]=e,c.call(this,this.queue[i],i)),this},this.main=function(){arguments&&t.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return n}())}(),ax5.ui.formatter_instance=new ax5.ui.formatter,$.fn.ax5formatter=function(){return function(e){return"undefined"==typeof e&&(e={}),$.each(this,function(){var t={target:this};e=$.extend(!0,e,t),ax5.ui.formatter_instance.bind(e)}),this}}(),function(){var e=ax5.ui,t=ax5.util;e.addClass({className:"menu",version:"0.6.2"},function(){var i=function(){var i,n=this;this.config={theme:"default",iconWidth:22,acceleratorWidth:100,menuBodyPadding:5,offset:{left:0,top:0},position:"fixed",animateTime:250,items:[],itemClickAndClose:!0},this.openTimer=null,this.closeTimer=null,this.queue=[],this.menuBar={},this.state=void 0,i=this.config;var a=function(e){e?(jQuery(document).unbind("click.ax5menu-"+this.menuId).bind("click.ax5menu-"+this.menuId,c.bind(this)),jQuery(window).unbind("keydown.ax5menu-"+this.menuId).bind("keydown.ax5menu-"+this.menuId,function(e){e.which==ax5.info.eventKeys.ESC&&n.close()}),jQuery(window).unbind("resize.ax5menu-"+this.menuId).bind("resize.ax5menu-"+this.menuId,function(e){n.close()})):(jQuery(document).unbind("click.ax5menu-"+this.menuId),jQuery(window).unbind("keydown.ax5menu-"+this.menuId),jQuery(window).unbind("resize.ax5menu-"+this.menuId))},o=function(e,t){return e&&e.onStateChanged?e.onStateChanged.call(t,t):this.onStateChanged&&this.onStateChanged.call(t,t),n.state=t.state,e=null,t=null,!0},s=function(e){return this.onLoad&&this.onLoad.call(e,e),e=null,!0},l=function(){return'\n                <div class="ax5-ui-menu {{theme}}" {{#width}}style="width:{{width}}px;"{{/width}}>\n                    <div class="ax-menu-body">\n                        {{#items}}\n                            {{^@isMenu}}\n                                {{#divide}}\n                                <div class="ax-menu-item-divide" data-menu-item-index="{{@i}}"></div>\n                                {{/divide}}\n                                {{#html}}\n                                <div class="ax-menu-item-html" data-menu-item-index="{{@i}}">{{{@html}}}</div>\n                                {{/html}}\n                            {{/@isMenu}}\n                            {{#@isMenu}}\n                            <div class="ax-menu-item" data-menu-item-depth="{{@depth}}" data-menu-item-index="{{@i}}" data-menu-item-path="{{@path}}.{{@i}}">\n                                <span class="ax-menu-item-cell ax-menu-item-checkbox">\n                                    {{#check}}\n                                    <span class="item-checkbox-wrap useCheckBox" {{#checked}}data-item-checked="true"{{/checked}}></span>\n                                    {{/check}}\n                                    {{^check}}\n                                    <span class="item-checkbox-wrap"></span>\n                                    {{/check}}\n                                </span>\n                                {{#icon}}\n                                <span class="ax-menu-item-cell ax-menu-item-icon" style="width:{{cfg.iconWidth}}px;">{{{.}}}</span>\n                                {{/icon}}\n                                <span class="ax-menu-item-cell ax-menu-item-label">{{{label}}}</span>\n                                {{#accelerator}}\n                                <span class="ax-menu-item-cell ax-menu-item-accelerator" style="width:{{cfg.acceleratorWidth}}px;"><span class="item-wrap">{{.}}</span></span>\n                                {{/accelerator}}\n                                {{#@hasChild}}\n                                <span class="ax-menu-item-cell ax-menu-item-handle">{{{cfg.icons.arrow}}}</span>\n                                {{/@hasChild}}\n                            </div>\n                            {{/@isMenu}}\n    \n                        {{/items}}\n                    </div>\n                    <div class="ax-menu-arrow"></div>\n                </div>\n                '},r=function(){return'\n                <div class="ax5-ui-menubar {{theme}}">\n                    <div class="ax-menu-body">\n                        {{#items}}\n                            {{^@isMenu}}\n                                {{#divide}}\n                                <div class="ax-menu-item-divide" data-menu-item-index="{{@i}}"></div>\n                                {{/divide}}\n                                {{#html}}\n                                <div class="ax-menu-item-html" data-menu-item-index="{{@i}}">{{{@html}}}</div>\n                                {{/html}}\n                            {{/@isMenu}}\n                            {{#@isMenu}}\n                            <div class="ax-menu-item" data-menu-item-index="{{@i}}">\n                                {{#icon}}\n                                <span class="ax-menu-item-cell ax-menu-item-icon" style="width:{{cfg.iconWidth}}px;">{{{.}}}</span>\n                                {{/icon}}\n                                <span class="ax-menu-item-cell ax-menu-item-label">{{{label}}}</span>\n                            </div>\n                            {{/@isMenu}}\n                        {{/items}}\n                    </div>\n                </div>\n                '},d=function h(e,t,a,r){var d,c,p=e;return p.theme=e.theme||i.theme,p.cfg={icons:jQuery.extend({},i.icons),iconWidth:e.iconWidth||i.iconWidth,acceleratorWidth:e.acceleratorWidth||i.acceleratorWidth},t.forEach(function(t){t.html||t.divide?(t["@isMenu"]=!1,t.html&&(t["@html"]=t.html.call({item:t,config:i,opt:e}))):t["@isMenu"]=!0}),p.items=t,p["@depth"]=a,p["@path"]=r||"root",p["@hasChild"]=function(){return this.items&&this.items.length>0},d=jQuery(ax5.mustache.render(l(),p)),jQuery(document.body).append(d),c=this.queue.splice(a),c.forEach(function(e){e.$target.remove()}),this.queue.push({$target:d,data:jQuery.extend({},p)}),d.find("[data-menu-item-index]").bind("mouseover",function(){var t,a,o,s,l,r,d=this.getAttribute("data-menu-item-depth"),c=this.getAttribute("data-menu-item-index"),u=this.getAttribute("data-menu-item-path");null!=d&&"undefined"!=typeof d&&(l=n.queue[d].data.items[c].items,r=n.queue[d].$target,r.find("[data-menu-item-index]").removeClass("hover"),jQuery(this).addClass("hover"),r.attr("data-selected-menu-item-index")!=c&&(r.attr("data-selected-menu-item-index",c),l&&l.length>0?(t=$(this),a=t.offset(),o="fixed"==i.position?$(document).scrollTop():0,s={"@parent":{left:a.left,top:a.top,width:t.outerWidth(),height:t.outerHeight()},left:a.left+t.outerWidth()-i.menuBodyPadding,top:a.top-i.menuBodyPadding-1-o},s=jQuery.extend(!0,e,s),h.call(n,s,l,Number(d)+1,u)):n.queue.splice(Number(d)+1).forEach(function(e){e.$target.remove()}))),d=null,c=null,u=null,t=null,a=null,o=null,s=null,l=null,r=null}),0==a&&(p.direction&&d.addClass("direction-"+p.direction),o.call(this,null,{self:this,items:t,parent:function(e){if(!e)return!1;var t=null;try{t=Function("","return this.config.items["+e.substring(5).replace(/\./g,"].items[")+"];").call(n)}catch(i){}return t}(p["@path"]),state:"popup"})),u.call(this,d,p),s.call(this,{self:this,items:t,element:d.get(0)}),p=null,d=null,c=null,e=null,t=null,a=null,r=null,this},c=function(e,a,o){if(a=t.findParentNode(e.target,function(e){return e.getAttribute("data-menu-item-index")?!0:void 0})){if(o=function(e){if(!e)return!1;var t;try{t=Function("","return this.config.items["+e.substring(5).replace(/\./g,"].items[")+"];").call(n)}catch(i){console.log(ax5.info.getError("ax5menu","501","menuItemClick"))}try{return t}finally{t=null}}(a.getAttribute("data-menu-item-path")),!o)return this;o.check&&(function(e){var t={checkbox:function(e){this.checked=!e},radio:function(t){var i=this.name;e.forEach(function(e){e.check&&"radio"===e.check.type&&e.check.name==i&&(e.check.checked=!1)}),this.checked=!t}};t[this.type]&&t[this.type].call(this,this.checked),t=null}.call(o.check,i.items),i.itemClickAndClose||n.queue.forEach(function(e){e.$target.find("[data-menu-item-index]").each(function(){var t=e.data.items[this.getAttribute("data-menu-item-index")];t.check&&jQuery(this).find(".item-checkbox-wrap").attr("data-item-checked",t.check.checked)})})),n.onClick&&n.onClick.call(o,o),o.items&&0!=o.items.length||!i.itemClickAndClose||n.close()}else n.close();return a=null,o=null,this},u=function(e,t){var n=$(window),a=$(document),o="fixed"==i.position?n.height():a.height(),s=n.width(),l=e.outerHeight(),r=e.outerWidth(),d=t.left,c=t.top,u=i.position||"fixed";return d+r>s&&(d=t["@parent"]?t["@parent"].left-r+i.menuBodyPadding:s-r),c+l>o&&(c=o-l),e.css({left:d,top:c,position:u}),e=null,t=null,n=null,a=null,o=null,s=null,l=null,r=null,d=null,c=null,u=null,this};this.init=function(){n.menuId=ax5.getGuid(),this.onStateChanged=i.onStateChanged,this.onClick=i.onClick,this.onLoad=i.onLoad,o.call(this,null,{
self:this,state:"init"})},this.popup=function(){var e={event:function(e,t){e={left:e.clientX,top:"fixed"==i.position?e.clientY:e.pageY,width:i.width,theme:i.theme},i.offset&&(i.offset.left&&(e.left+=i.offset.left),i.offset.top&&(e.top+=i.offset.top)),t=jQuery.extend(!0,e,t);try{return t}finally{e=null}},object:function(e,t){e={left:e.left,top:e.top,width:e.width||i.width,theme:e.theme||i.theme},i.offset&&(i.offset.left&&(e.left+=i.offset.left),i.offset.top&&(e.top+=i.offset.top)),t=jQuery.extend(!0,e,t);try{return t}finally{e=null}}},t=function(e){e&&(i.theme=e)};return function(n,o){return n?(o=e["undefined"==typeof n.clientX?"object":"event"].call(this,n,o),t(o.theme),d.call(this,o,i.items,0),a.call(this,!0),n=null,this):this}}(),this.attach=function(){var e={object:function(e,t){e={left:e.left,top:e.top,width:e.width||i.width,theme:e.theme||i.theme,direction:e.direction||i.direction},t=jQuery.extend(!0,t,e);try{return t}finally{e=null,t=null}}},o=function(t,o){var s=$(t),l=s.offset(),r=s.outerHeight(),c=Number(t.getAttribute("data-menu-item-index")),u="fixed"==i.position?$(document).scrollTop():0;return n.menuBar.openedIndex==c?!1:(n.menuBar.target.find("[data-menu-item-index]").removeClass("hover"),n.menuBar.opened=!0,n.menuBar.openedIndex=c,s.attr("data-menu-item-opened","true"),s.addClass("hover"),i.offset&&(i.offset.left&&(l.left+=i.offset.left),i.offset.top&&(l.top+=i.offset.top)),o=e.object.call(this,{left:l.left,top:l.top+r-u},o),i.items&&i.items[c].items&&i.items[c].items.length&&(d.call(n,o,i.items[c].items,0,"root."+t.getAttribute("data-menu-item-index")),a.call(n,!0)),t=null,o=null,s=null,l=null,r=null,c=null,void(u=null))};return function(e,a){var s,l={},d=i.items;return"undefined"==typeof a&&(a={}),l.theme=a.theme||i.theme,l.cfg={icons:jQuery.extend({},i.icons),iconWidth:a.iconWidth||i.iconWidth,acceleratorWidth:a.acceleratorWidth||i.acceleratorWidth},d.forEach(function(e){e.html||e.divide?(e["@isMenu"]=!1,e.html&&(e["@html"]=e.html.call({item:e,config:i,opt:a}))):e["@isMenu"]=!0}),l.items=d,s=jQuery(ax5.mustache.render(r(),l)),n.menuBar={target:jQuery(e),opened:!1},n.menuBar.target.html(s),n.menuBar.target.bind("click",function(e){if(!e)return this;var i=t.findParentNode(e.target,function(e){return e.getAttribute("data-menu-item-index")?!0:void 0});i&&o(i,a),i=null}),n.menuBar.target.bind("mouseover",function(e){if(!n.menuBar.opened)return!1;var i=t.findParentNode(e.target,function(e){return e.getAttribute("data-menu-item-index")?!0:void 0});i&&o(i,a),i=null}),e=null,a=null,l=null,d=null,s=null,this}}(),this.close=function(){return n.menuBar&&n.menuBar.target&&(n.menuBar.target.find("[data-menu-item-index]").removeClass("hover"),n.menuBar.opened=!1,n.menuBar.openedIndex=null),a.call(this,!1),this.queue.forEach(function(e){e.$target.remove()}),this.queue=[],o.call(this,null,{self:this,state:"close"}),this},this.getCheckValue=function(){var e={},n=function(i){for(var a=i.length;a--;)i[a].check&&i[a].check.checked&&(e[i[a].check.name]?(t.isString(e[i[a].check.name])&&(e[i[a].check.name]=[e[i[a].check.name]]),e[i[a].check.name].push(i[a].check.value)):e[i[a].check.name]=i[a].check.value),i[a].items&&i[a].items.length>0&&n(i[a].items)};n(i.items);try{return e}finally{e=null,n=null}},this.main=function(){e.menu_instance=e.menu_instance||[],e.menu_instance.push(this),arguments&&t.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return i}())}(),function(){var e=ax5.ui,t=ax5.util;e.addClass({className:"select",version:"0.4.2"},function(){var e=function(){var e,i=this;this.config={theme:"default",animateTime:250,lang:{noSelected:"",noOptions:"no options",loading:"now loading..",multipleLabel:'"{{label}}"외 {{length}}건'},columnKeys:{optionValue:"value",optionText:"text",optionSelected:"selected"}},this.queue=[],this.activeSelectOptionGroup=null,this.activeSelectQueueIndex=-1,this.openTimer=null,this.closeTimer=null,this.waitOptionsCallback=null,this.keyUpTimer=null,e=this.config;var n={18:"KEY_ALT",8:"KEY_BACKSPACE",17:"KEY_CONTROL",46:"KEY_DELETE",40:"KEY_DOWN",35:"KEY_END",187:"KEY_EQUAL",27:"KEY_ESC",36:"KEY_HOME",45:"KEY_INSERT",37:"KEY_LEFT",189:"KEY_MINUS",34:"KEY_PAGEDOWN",33:"KEY_PAGEUP",13:"KEY_RETURN",39:"KEY_RIGHT",16:"KEY_SHIFT",9:"KEY_TAB",38:"KEY_UP",91:"KEY_WINDOW"},a=function(e,t){return e&&e.onStateChanged?e.onStateChanged.call(t,t):this.onStateChanged&&this.onStateChanged.call(t,t),"changeValue"==t.state&&(e&&e.onChange?e.onChange.call(t,t):this.onChange&&this.onChange.call(t,t)),e=null,t=null,!0},o=function(e){return'\n                    <div class="ax5select-option-group {{theme}} {{size}}" data-ax5select-option-group="{{id}}">\n                        <div class="ax-select-body">\n                            <div class="ax-select-option-group-content" data-els="content"></div>\n                        </div>\n                        <div class="ax-select-arrow"></div> \n                    </div>\n                    '},s=function(){return'\n                    <a {{^tabIndex}}href="#ax5select-{{id}}" {{/tabIndex}}{{#tabIndex}}tabindex="{{tabIndex}}" {{/tabIndex}}class="form-control {{formSize}} ax5select-display {{theme}}" \n                    data-ax5select-display="{{id}}" data-ax5select-instance="{{instanceId}}">\n                        <div class="ax5select-display-table" data-els="display-table">\n                            <div data-ax5select-display="label">{{label}}</div>\n                            <div data-ax5select-display="addon"> \n                                {{#multiple}}{{#reset}}\n                                <span class="addon-icon-reset" data-selected-clear="true">{{{.}}}</span>\n                                {{/reset}}{{/multiple}}\n                                {{#icons}}\n                                <span class="addon-icon-closed">{{clesed}}</span>\n                                <span class="addon-icon-opened">{{opened}}</span>\n                                {{/icons}}\n                                {{^icons}}\n                                <span class="addon-icon-closed"><span class="addon-icon-arrow"></span></span>\n                                <span class="addon-icon-opened"><span class="addon-icon-arrow"></span></span>\n                                {{/icons}}\n                            </div>\n                        </div>\n                        <input type="text" tabindex="-1" data-ax5select-display="input" \n                        style="position:absolute;z-index:0;left:0px;top:0px;font-size:1px;opacity: 0;width:1px;border: 0px none;color : transparent;text-indent: -9999em;" />\n                    </a>\n                    '},l=function(){return'\n                    <select tabindex="-1" class="form-control {{formSize}}" name="{{name}}" {{#multiple}}multiple="multiple"{{/multiple}}></select>\n                    '},r=function(e){return'\n                    {{#waitOptions}}\n                        <div class="ax-select-option-item">\n                                <div class="ax-select-option-item-holder">\n                                    <span class="ax-select-option-item-cell ax-select-option-item-label">\n                                        {{{lang.loading}}}\n                                    </span>\n                                </div>\n                            </div>\n                    {{/waitOptions}}\n                    {{^waitOptions}}\n                        {{#options}}\n                            {{#optgroup}}\n                                <div class="ax-select-option-group">\n                                    <div class="ax-select-option-item-holder">\n                                        <span class="ax-select-option-group-label">\n                                            {{{.}}}\n                                        </span>\n                                    </div>\n                                    {{#options}}\n                                    <div class="ax-select-option-item" data-option-focus-index="{{@findex}}" data-option-group-index="{{@gindex}}" data-option-index="{{@index}}" \n                                    data-option-value="{{'+e.optionValue+'}}" \n                                    {{#'+e.optionSelected+'}}data-option-selected="true"{{/'+e.optionSelected+'}}>\n                                        <div class="ax-select-option-item-holder">\n                                            {{#multiple}}\n                                            <span class="ax-select-option-item-cell ax-select-option-item-checkbox">\n                                                <span class="item-checkbox-wrap useCheckBox" data-option-checkbox-index="{{@i}}"></span>\n                                            </span>\n                                            {{/multiple}}\n                                            <span class="ax-select-option-item-cell ax-select-option-item-label">{{'+e.optionText+'}}</span>\n                                        </div>\n                                    </div>\n                                    {{/options}}\n                                </div>                            \n                            {{/optgroup}}\n                            {{^optgroup}}\n                            <div class="ax-select-option-item" data-option-focus-index="{{@findex}}" data-option-index="{{@index}}" data-option-value="{{'+e.optionValue+'}}" {{#'+e.optionSelected+'}}data-option-selected="true"{{/'+e.optionSelected+'}}>\n                                <div class="ax-select-option-item-holder">\n                                    {{#multiple}}\n                                    <span class="ax-select-option-item-cell ax-select-option-item-checkbox">\n                                        <span class="item-checkbox-wrap useCheckBox" data-option-checkbox-index="{{@i}}"></span>\n                                    </span>\n                                    {{/multiple}}\n                                    <span class="ax-select-option-item-cell ax-select-option-item-label">{{'+e.optionText+'}}</span>\n                                </div>\n                            </div>\n                            {{/optgroup}}\n                        {{/options}}\n                        {{^options}}\n                            <div class="ax-select-option-item">\n                                <div class="ax-select-option-item-holder">\n                                    <span class="ax-select-option-item-cell ax-select-option-item-label">\n                                        {{{lang.noOptions}}}\n                                    </span>\n                                </div>\n                            </div>\n                        {{/options}}\n                    {{/waitOptions}}\n                    '},d=function(){for(var e,i=this.queue.length;i--;)this.queue[i].$display&&(e=Math.max(this.queue[i].$select.outerWidth(),t.number(this.queue[i].minWidth)),this.queue[i].$display.css({"min-width":e}),this.queue[i].reset&&this.queue[i].$display.find(".addon-icon-reset").css({"line-height":this.queue[i].$display.height()+"px"}));return i=null,e=null,this},c=function(e){if(!this.activeSelectOptionGroup)return this;var t=this.queue[this.activeSelectQueueIndex],i={},n={};e&&jQuery(document.body).append(this.activeSelectOptionGroup),i=t.$target.offset(),n={width:t.$target.outerWidth(),height:t.$target.outerHeight()},t.direction&&""!==t.direction&&"auto"!==t.direction||(t.direction="top"),e&&this.activeSelectOptionGroup.addClass("direction-"+t.direction),this.activeSelectOptionGroup.css(function(){return"top"==t.direction?{left:i.left,top:i.top+n.height+1,width:n.width}:"bottom"==t.direction?{left:i.left,top:i.top-this.activeSelectOptionGroup.outerHeight()-1,width:n.width}:void 0}.call(this))},u=function(e,i){if(!this.activeSelectOptionGroup)return this;var n=this.queue[this.activeSelectQueueIndex],a="display";return(i=t.findParentNode(e.target,function(e){return e.getAttribute("data-option-value")?(a="optionItem",!0):n.$target.get(0)==e?(a="display",!0):void 0}))?("optionItem"===a&&(this.val(n.id,{index:{gindex:i.getAttribute("data-option-group-index"),index:i.getAttribute("data-option-index")}},void 0,"internal"),n.$display.focus(),n.multiple||this.close()),this):(this.close(),this)},h=function(e){if(e.keyCode==ax5.info.eventKeys.ESC)this.close();else if(e.which==ax5.info.eventKeys.RETURN&&this.queue[this.activeSelectQueueIndex].optionFocusIndex>-1){var t=this.activeSelectOptionGroup.find('[data-option-focus-index="'+this.queue[this.activeSelectQueueIndex].optionFocusIndex+'"]');this.val(this.queue[this.activeSelectQueueIndex].id,{index:{gindex:t.attr("data-option-group-index"),index:t.attr("data-option-index")}},void 0,"internal"),this.queue[this.activeSelectQueueIndex].multiple||this.close()}},p=function(e){var i=this.queue[e],n=[];return t.isArray(i.selected)&&i.selected.length>0?i.selected.forEach(function(e){e.selected&&n.push(e[i.columnKeys.optionText])}):!i.multiple&&i.options&&i.options[0]?i.options[0].optgroup?n[0]=i.options[0].options[0][i.columnKeys.optionText]:n[0]=i.options[0][i.columnKeys.optionText]:n[0]=i.lang.noSelected,function(){if(i.multiple&&n.length>1){var e={label:n[0],length:n.length-1};return ax5.mustache.render(i.lang.multipleLabel,e)}return n[0]}()},f=function(e){this.queue[e].$displayLabel.html(p.call(this,e))},m=function(e,t){var i,n=[],a=-1,o=this.queue[e].indexedOptions.length-1;if(t){for(;o-a++;){if(i=this.queue[e].indexedOptions[a],(""+i.value).toLowerCase()==t.toLowerCase()){n=[{"@findex":i["@findex"],optionsSort:0}];break}var s=(""+i.value).toLowerCase().search(t.toLowerCase());if(s>-1&&(n.push({"@findex":i["@findex"],optionsSort:s}),n.length>2))break;s=null}n.sort(function(e,t){return e.optionsSort-t.optionsSort})}n&&n.length>0&&g.call(this,e,void 0,n[0]["@findex"]);try{return n}finally{n=null,a=null,o=null,i=null}},g=function(e,t,i){var n,a,o,s;if(this.activeSelectOptionGroup&&this.queue[e].options&&this.queue[e].options.length>0){"undefined"!=typeof i?n=i:(a=-1==this.queue[e].optionFocusIndex?this.queue[e].optionSelectedIndex||-1:this.queue[e].optionFocusIndex,-1==a?n=t>0?0:this.queue[e].optionItemLength-1:(n=a+t,0>n?n=0:n>this.queue[e].optionItemLength-1&&(n=this.queue[e].optionItemLength-1))),this.queue[e].optionFocusIndex=n,this.activeSelectOptionGroup.find("[data-option-focus-index]").removeClass("hover"),o=this.activeSelectOptionGroup.find('[data-option-focus-index="'+n+'"]').addClass("hover"),s=this.activeSelectOptionGroup.find('[data-els="content"]');var l=o.outerHeight(),r=s.innerHeight(),d=s.scrollTop(),c=o.position().top+s.scrollTop();c+l>r+d?s.scrollTop(c+l-r):d>c&&s.scrollTop(c)}},b=function(){var e=t.debounce(function(e,t){m.call(i,t,e),i.queue[t].$displayInput.val("")},300),a={click:function(e,n){var a=t.findParentNode(n.target,function(e){return e.getAttribute("data-selected-clear")?!0:void 0});a?this.val(e,{clear:!0}):i.activeSelectQueueIndex==e?-1==this.queue[e].optionFocusIndex&&i.close():i.open(e)},keyUp:function(t,i){i.which==ax5.info.eventKeys.SPACE?a.click.call(this,t,i):n[i.which]||e(this.queue[t].$displayInput.val(),t)},keyDown:function(e,i){i.which==ax5.info.eventKeys.DOWN?(g.call(this,e,1),t.stopEvent(i)):i.which==ax5.info.eventKeys.UP&&(g.call(this,e,-1),t.stopEvent(i))},blur:function(e,t){},selectChange:function(e,t){this.val(e,this.queue[e].$select.val(),!0)}};return function(e){var t=this.queue[e],i={};return t.selected=[],t.$display?(t.$displayLabel.html(p.call(this,e)),t.options=v.call(this,e,t.options),d.call(this)):(i.instanceId=this.instanceId,i.id=t.id,i.name=t.name,i.theme=t.theme,i.tabIndex=t.tabIndex,i.multiple=t.multiple,i.reset=t.reset,i.label=p.call(this,e),i.formSize=function(){return t.size?"input-"+t.size:""}(),t.$display=jQuery(ax5.mustache.render(s.call(this,e),i)),t.$displayLabel=t.$display.find('[data-ax5select-display="label"]'),t.$target.find("select").get(0)?(t.$select=t.$target.find("select"),t.$select.attr("tabindex","-1").attr("class","form-control "+i.formSize),i.name&&t.$select.attr("name","name"),i.multiple&&t.$select.attr("multiple","multiple")):(t.$select=jQuery(ax5.mustache.render(l.call(this,e),i)),t.$target.append(t.$select)),t.$target.append(t.$display),t.$displayInput=t.$display.find('[data-ax5select-display="input"]'),t.options=v.call(this,e,t.options),d.call(this),t.$displayInput.unbind("blur.ax5select").bind("blur.ax5select",a.blur.bind(this,e)).unbind("keyup.ax5select").bind("keyup.ax5select",a.keyUp.bind(this,e)).unbind("keydown.ax5select").bind("keydown.ax5select",a.keyDown.bind(this,e))),t.$display.unbind("click.ax5select").bind("click.ax5select",a.click.bind(this,e)).unbind("keyup.ax5select").bind("keyup.ax5select",a.keyUp.bind(this,e)),t.$select.unbind("change.ax5select").bind("change.ax5select",a.selectChange.bind(this,e)),i=null,t=null,e=null,this}}(),v=function(){var e=function(e,t){t?this.queue[e].multiple?this.queue[e].selected.push(jQuery.extend({},t)):this.queue[e].selected[0]=jQuery.extend({},t):this.queue[e].selected=[]};return function(n,a){var o,s,l,r=this.queue[n],d=0;return e.call(this,n,!1),a?(r.options=a,r.indexedOptions=[],o=[],r.options.forEach(function(t,a){t.optgroup?(t["@gindex"]=a,t.options.forEach(function(t,a){t["@index"]=a,t["@findex"]=d,o.push('<option value="'+t[r.columnKeys.optionValue]+'" '+(t[r.columnKeys.optionSelected]?' selected="selected"':"")+">"+t[r.columnKeys.optionText]+"</option>"),t[r.columnKeys.optionSelected]&&e.call(i,n,t),r.indexedOptions.push({"@findex":d,value:t[r.columnKeys.optionValue],text:t[r.columnKeys.optionText]}),d++})):(t["@index"]=a,t["@findex"]=d,o.push('<option value="'+t[r.columnKeys.optionValue]+'" '+(t[r.columnKeys.optionSelected]?' selected="selected"':"")+">"+t[r.columnKeys.optionText]+"</option>"),t[r.columnKeys.optionSelected]&&e.call(i,n,t),r.indexedOptions.push({"@findex":d,value:t[r.columnKeys.optionValue],text:t[r.columnKeys.optionText]}),d++)}),r.optionItemLength=d,r.$select.html(o.join(""))):(s=t.toArray(r.$select.get(0).options),l=[],s.forEach(function(t,a){var o={};o[r.columnKeys.optionValue]=t.value,o[r.columnKeys.optionText]=t.text,o[r.columnKeys.optionSelected]=t.selected,o["@index"]=a,o["@findex"]=a,t.selected&&e.call(i,n,o),l.push(o),o=null}),r.options=l,r.indexedOptions=l),!r.multiple&&0==r.selected.length&&r.options&&r.options[0]&&(r.options[0].optgroup?(r.options[0].options[0][r.columnKeys.optionSelected]=!0,r.selected.push(jQuery.extend({},r.options[0].options[0]))):(r.options[0][r.columnKeys.optionSelected]=!0,r.selected.push(jQuery.extend({},r.options[0])))),o=null,s=null,l=null,r.options}}(),x=function(e){return t.isString(e)||(e=jQuery(e).data("data-ax5select-id")),t.isString(e)?t.search(this.queue,function(){return this.id==e}):void console.log(ax5.info.getError("ax5select","402","getQueIdx"))};this.init=function(){this.onStateChanged=e.onStateChanged,this.onChange=e.onChange,jQuery(window).bind("resize.ax5select-display-"+this.instanceId,function(){d.call(this)}.bind(this))},this.bind=function(i){var n,a={};return i=jQuery.extend(!0,a,e,i),i.target?(i.$target=jQuery(i.target),i.id||(i.id=i.$target.data("data-ax5select-id")),i.id||(i.id="ax5select-"+ax5.getGuid(),i.$target.data("data-ax5select-id",i.id)),i.name=i.$target.attr("data-ax5select"),i.options&&(i.options=JSON.parse(JSON.stringify(i.options))),function(e){t.isObject(e)&&!e.error&&(i=jQuery.extend(!0,i,e))}(t.parseJson(i.$target.attr("data-ax5select-config"),!0)),n=t.search(this.queue,function(){return this.id==i.id}),-1===n?(this.queue.push(i),b.call(this,this.queue.length-1)):(this.queue[n]=jQuery.extend(!0,{},this.queue[n],i),b.call(this,n)),a=null,n=null,this):(console.log(ax5.info.getError("ax5select","401","bind")),this)},this.open=function(){var i=function(e){e.onExpand.call({self:this,item:e},function(e){if(this.waitOptionsCallback){var i={},n=this.queue[this.activeSelectQueueIndex];!function(e,i){var n={};i.options.forEach(function(t,i){t["@index"]=i,n[t[e.columnKeys.optionValue]]=t}),t.isArray(e.selected)&&e.selected.forEach(function(t){n[t[e.columnKeys.optionValue]]&&(i.options[n[t[e.columnKeys.optionValue]]["@index"]][e.columnKeys.optionSelected]=!0)})}(n,e),n.$displayLabel.html(p.call(this,this.activeSelectQueueIndex)),n.options=v.call(this,this.activeSelectQueueIndex,e.options),d.call(this),i.id=n.id,i.theme=n.theme,i.size="ax5select-option-group-"+n.size,i.multiple=n.multiple,i.lang=n.lang,i.options=n.options,this.activeSelectOptionGroup.find('[data-els="content"]').html(jQuery(ax5.mustache.render(r.call(this,n.columnKeys),i)))}}.bind(this))};return function(n,s){this.waitOptionsCallback=null;var l,d,p=t.isNumber(n)?n:x.call(this,n),f=this.queue[p],m={};return f.$display.attr("disabled")?this:(this.openTimer&&clearTimeout(this.openTimer),this.activeSelectOptionGroup?this.activeSelectQueueIndex==p?this:s>2?this:(this.close(),this.openTimer=setTimeout(function(){this.open(p,(s||0)+1)}.bind(this),e.animateTime),this):(f.optionFocusIndex=-1,f.selected&&f.selected.length>0&&(f.optionSelectedIndex=f.selected[0]["@findex"]),m.id=f.id,m.theme=f.theme,m.size="ax5select-option-group-"+f.size,m.multiple=f.multiple,m.lang=f.lang,f.$display.attr("data-select-option-group-opened","true"),f.onExpand&&(m.waitOptions=!0),m.options=f.options,this.activeSelectOptionGroup=jQuery(ax5.mustache.render(o.call(this,f.columnKeys),m)),this.activeSelectOptionGroup.find('[data-els="content"]').html(jQuery(ax5.mustache.render(r.call(this,f.columnKeys),m))),this.activeSelectQueueIndex=p,c.call(this,"append"),jQuery(window).bind("resize.ax5select-"+this.instanceId,function(){c.call(this)}.bind(this)),f.selected&&f.selected.length>0&&(d=this.activeSelectOptionGroup.find('[data-option-index="'+f.selected[0]["@index"]+'"]'),d.get(0)&&(l=d.position().top-this.activeSelectOptionGroup.height()/3,this.activeSelectOptionGroup.find('[data-els="content"]').stop().animate({scrollTop:l},f.animateTime,"swing",function(){}))),f.$displayInput.val(""),setTimeout(function(){f.$displayInput.trigger("focus")},1),jQuery(window).bind("keyup.ax5select-"+this.instanceId,function(e){e=e||window.event,h.call(this,e),t.stopEvent(e)}.bind(this)),jQuery(window).bind("click.ax5select-"+this.instanceId,function(e){e=e||window.event,u.call(this,e),t.stopEvent(e)}.bind(this)),a.call(this,f,{self:this,state:"open",item:f}),f.onExpand&&(this.waitOptionsCallback=!0,i.call(this,f)),m=null,l=null,d=null,this))}}(),this.update=function(e){return this.bind(e),this},this.val=function(){var e=function(e,t,i){return"undefined"==typeof i?e.multiple?!t:!0:i},n=function(e){this.queue[e].options.forEach(function(e){e.optgroup?e.options.forEach(function(e){e.selected=!1}):e.selected=!1})},o={index:function(n,a,o){var s=this.queue[n];t.isString(a.index.gindex)?(s.options[a.index.gindex].options[a.index.index][s.columnKeys.optionSelected]=e(s,s.options[a.index.gindex].options[a.index.index][s.columnKeys.optionSelected],o),i.activeSelectOptionGroup.find('[data-option-group-index="'+a.index.gindex+'"][data-option-index="'+a.index.index+'"]').attr("data-option-selected",s.options[a.index.gindex].options[a.index.index][s.columnKeys.optionSelected].toString())):(s.options[a.index.index][s.columnKeys.optionSelected]=e(s,s.options[a.index.index][s.columnKeys.optionSelected],o),i.activeSelectOptionGroup.find('[data-option-index="'+a.index.index+'"]').attr("data-option-selected",s.options[a.index.index][s.columnKeys.optionSelected].toString())),v.call(this,n,s.options),f.call(this,n),c.call(this)},arr:function(e,n,a){n.forEach(function(n){if(t.isString(n)||t.isNumber(n))o.value.call(i,e,n,a);else for(var s in o)if(n[s]){o[s].call(i,e,n,a);break}})},value:function(i,n,a){var o=this.queue[i],s=t.search(o.options,function(){return this[o.columnKeys.optionValue]==n});return s>-1?(o.options[s][o.columnKeys.optionSelected]=e(o,o.options[s][o.columnKeys.optionSelected],a),v.call(this,i,o.options),void f.call(this,i)):void console.log(ax5.info.getError("ax5select","501","val"))},text:function(i,n,a){var o=this.queue[i],s=t.search(o.options,function(){return this[o.columnKeys.optionText]==n});return s>-1?(o.options[s][o.columnKeys.optionSelected]=e(o,o.options[s][o.columnKeys.optionSelected],a),v.call(this,i,o.options),void f.call(this,i)):void console.log(ax5.info.getError("ax5select","501","val"))},clear:function(e){n.call(this,e),v.call(this,e,this.queue[e].options),f.call(this,e),this.activeSelectOptionGroup&&this.activeSelectOptionGroup.find("[data-option-index]").attr("data-option-selected","false")}};return function(e,i,s,l){var r=t.isNumber(e)?e:x.call(this,e);if(-1===r)return void console.log(ax5.info.getError("ax5select","402","val"));if("undefined"==typeof i||this.queue[r].multiple||n.call(this,r),"undefined"==typeof i)return this.queue[r].selected;if(t.isArray(i))o.arr.call(this,r,i,s);else if(t.isString(i)||t.isNumber(i))o.value.call(this,r,i,s);else if(null===i)o.clear.call(this,r);else for(var d in o)if(i[d]){o[d].call(this,r,i,s);break}return"undefined"!=typeof i&&a.call(this,this.queue[r],{self:this,item:this.queue[r],state:l?"changeValue":"setValue",value:this.queue[r].selected,internal:l}),e=null,this}}(),this.close=function(t){return this.closeTimer&&clearTimeout(this.closeTimer),this.activeSelectOptionGroup?(t=this.queue[this.activeSelectQueueIndex],t.optionFocusIndex=-1,t.$displayInput.val("").trigger("blur"),t.$display.removeAttr("data-select-option-group-opened").trigger("focus"),this.activeSelectOptionGroup.addClass("destroy"),jQuery(window).unbind("resize.ax5select-"+this.instanceId).unbind("click.ax5select-"+this.instanceId).unbind("keyup.ax5select-"+this.instanceId),this.closeTimer=setTimeout(function(){this.activeSelectOptionGroup&&this.activeSelectOptionGroup.remove(),this.activeSelectOptionGroup=null,this.activeSelectQueueIndex=-1,a.call(this,t,{self:this,state:"close"})}.bind(this),e.animateTime),this.waitOptionsCallback=null,this):this},this.enable=function(e){var t=x.call(this,e);return this.queue[t].$display.removeAttr("disabled"),this.queue[t].$select.removeAttr("disabled"),a.call(this,this.queue[t],{self:this,state:"enable"}),this},this.disable=function(e){var t=x.call(this,e);return this.queue[t].$display.attr("disabled","disabled"),this.queue[t].$select.attr("disabled","disabled"),a.call(this,this.queue[t],{self:this,state:"disable"}),this},this.main=function(){arguments&&t.isObject(arguments[0])?this.setConfig(arguments[0]):this.init()}.apply(this,arguments)};return e}())}(),ax5.ui.select_instance=new ax5.ui.select,jQuery.fn.ax5select=function(){return function(e){if(ax5.util.isString(arguments[0])){var t=arguments[0];switch(t){case"open":return ax5.ui.select_instance.open(this);case"close":return ax5.ui.select_instance.close(this);case"setValue":return ax5.ui.select_instance.val(this,arguments[1],arguments[2]);case"getValue":return ax5.ui.select_instance.val(this);case"enable":return ax5.ui.select_instance.enable(this);case"disable":return ax5.ui.select_instance.disable(this);default:return this}}else"undefined"==typeof e&&(e={}),jQuery.each(this,function(){var t={target:this};e=jQuery.extend({},e,t),ax5.ui.select_instance.bind(e)});return this}}(),function(){var e,t=ax5.ui,i=ax5.util;t.addClass({className:"grid",version:"0.0.3"},function(){var n=function(){var n;this.config={clickEventName:"click",theme:"default",animateTime:250,frozenColumnIndex:0,frozenRowIndex:0,rightSum:!1,footSum:!1,showLineNumber:!1,showRowSelector:!1,height:400,columnMinWidth:100,asideColumnWidth:30,header:{columnHeight:23,columnPadding:3,columnBorderWidth:1},body:{columnHeight:23,columnPadding:3,columnBorderWidth:1},scroller:{size:15}},this.xvar={bodyTrHeight:0,scrollContentWidth:0,scrollContentHeight:0},this.colGroup=[],this.data=[],n=this.config;var a=function(e){var t={rows:[]},i=0,a=function o(e,a,s){for(var l={cols:[]},r=0,d=e.length;d>r;r++){var c=e[r],u=1;c.hidden||(c.colspan=1,c.rowspan=1,c.rowIndex=a,c.colIndex=function(){return s?(i=s.colIndex+r+1,s.colIndex+r):i++}(),l.cols.push(c),"columns"in c?u=o(c.columns,a+1,c):c.width="width"in c?c.width:n.columnMinWidth,c.colspan=u)}return l.cols.length>0?(t.rows[a]||(t.rows[a]={cols:[]}),t.rows[a].cols=t.rows[a].cols.concat(l.cols),l.cols.length-1+u):u};return a(e,0),function(){for(var e=0,i=t.rows.length;i>e;e++)for(var n=t.rows[e],a=0,o=n.cols.length;o>a;a++){var s=n.cols[a];"columns"in s||(s.rowspan=i-e)}}(),t},o=function(){var t={instanceId:this.id};return this.$target.html(e.tmpl.get("main",t)),this.$={container:{root:this.$target.find('[data-ax5grid-container="root"]'),header:this.$target.find('[data-ax5grid-container="header"]'),body:this.$target.find('[data-ax5grid-container="body"]'),scroller:this.$target.find('[data-ax5grid-container="scroller"]')},panel:{"aside-header":this.$target.find('[data-ax5grid-panel="aside-header"]'),"left-header":this.$target.find('[data-ax5grid-panel="left-header"]'),header:this.$target.find('[data-ax5grid-panel="header"]'),"header-scroll":this.$target.find('[data-ax5grid-panel-scroll="header"]'),"right-header":this.$target.find('[data-ax5grid-panel="right-header"]'),"top-aside-body":this.$target.find('[data-ax5grid-panel="top-aside-body"]'),"top-left-body":this.$target.find('[data-ax5grid-panel="top-left-body"]'),"top-body":this.$target.find('[data-ax5grid-panel="top-body"]'),"top-body-scroll":this.$target.find('[data-ax5grid-panel-scroll="top-body"]'),"top-right-body":this.$target.find('[data-ax5grid-panel="top-right-body"]'),"aside-body":this.$target.find('[data-ax5grid-panel="aside-body"]'),"aside-body-scroll":this.$target.find('[data-ax5grid-panel-scroll="aside-body"]'),"left-body":this.$target.find('[data-ax5grid-panel="left-body"]'),"left-body-scroll":this.$target.find('[data-ax5grid-panel-scroll="left-body"]'),body:this.$target.find('[data-ax5grid-panel="body"]'),"body-scroll":this.$target.find('[data-ax5grid-panel-scroll="body"]'),"right-body":this.$target.find('[data-ax5grid-panel="right-body"]'),"right-body-scroll":this.$target.find('[data-ax5grid-panel-scroll="right-body"]'),"bottom-aside-body":this.$target.find('[data-ax5grid-panel="bottom-aside-body"]'),"bottom-left-body":this.$target.find('[data-ax5grid-panel="bottom-left-body"]'),"bottom-body":this.$target.find('[data-ax5grid-panel="bottom-body"]'),"bottom-body-scroll":this.$target.find('[data-ax5grid-panel-scroll="bottom-body"]'),"bottom-right-body":this.$target.find('[data-ax5grid-panel="bottom-right-body"]')},scroller:{vertical:this.$target.find('[data-ax5grid-scroller="vertical"]'),"vertical-bar":this.$target.find('[data-ax5grid-scroller="vertical-bar"]'),horizontal:this.$target.find('[data-ax5grid-scroller="horizontal"]'),"horizontal-bar":this.$target.find('[data-ax5grid-scroller="horizontal-bar"]'),corner:this.$target.find('[data-ax5grid-scroller="corner"]')}},this.$.container.root.css({height:n.height}),this},s=function(e){this.columns=i.deepCopy(e),this.headerTable=a.call(this,this.columns);for(var t={},n=0,o=this.headerTable.rows.length;o>n;n++)for(var s=this.headerTable.rows[n],l=0,r=s.cols.length;r>l;l++)t[s.cols[l].colIndex]=jQuery.extend({},s.cols[l]);this.colGroup=[];for(var d in t)this.colGroup.push(t[d]);return this},l=function(){var e,t,n,a=this.$.container.root.width(),o=0,s=[],l=this.colGroup;for(t=0,n=l.length;n>t;t++)i.isNumber(l[t].width)?o+=l[t]._width=l[t].width:"*"===l[t].width?s.push(t):"%"===i.right(l[t].width,1)&&(o+=l[t]._width=a*i.left(l[t].width,"%")/100);if(s.length>0)for(e=(a-o)/s.length,t=0,n=s.length;n>t;t++)l[s[t]]._width=e},r=function(e){var t=this.$.container.root.width(),i=this.$.container.root.height(),a=t,o=i,s=n.asidePanelWidth=function(){var e=0;return n.showLineNumber&&(e+=n.asideColumnWidth),n.showRowSelector&&(e+=n.asideColumnWidth),e}(),l=n.frozenPanelWidth=function(e,t){for(var i=0,n=0,a=t;a>n;n++)i+=e[n]._width;return i}(this.colGroup,n.frozenColumnIndex),r=0,d=0,c=0,u=this.headerTable.rows.length*n.header.columnHeight,h=function(){return i-u<this.data.length*this.xvar.bodyTrHeight?this.config.scroller.size:0;
}.call(this),p=function(){for(var e=0,i=t-s-h,n=0,a=this.colGroup.length;a>n;n++)e+=this.colGroup[n]._width;return e>i?this.config.scroller.size:0}.call(this);a=t-h,o=i-p;var f=o-u,m=function(e,t,i,o){var h={},p=!1;switch(i){case"aside":0===s?p=!0:(h.left=0,h.width=s);break;case"left":0===n.frozenColumnIndex?p=!0:(h.left=s,h.width=l);break;case"right":n.rightSum||(p=!0);break;default:0===n.frozenColumnIndex?h.left=s:h.left=l+s,h.width=a-s-l-r}if(p)return this;if("body"===o)switch(t){case"top":0===n.frozenRowIndex?p=!0:(h.top=0,h.height=d);break;case"bottom":n.footSum?(h.top=f-c,h.height=c):p=!0;break;default:h.top=0,h.height=f,0===n.frozenRowIndex&&(h.top=d,h.height=f-d),n.footSum&&(h.height-=c)}else"header"===o&&(h.height=u);return p?(e.hide(),this):(e.css(h),this)},g=function(e,t,i,n){var s={},l=!1;switch(n){case"vertical":t>0?(s.width=t,s.height=o,s.bottom=i):l=!0;break;case"horizontal":i>0?(s.width=a,s.height=i,s.right=t):l=!0;break;case"corner":t>0&&i>0?(s.width=t,s.height=i):l=!0}return l?(e.hide(),this):void e.show().css(s)};this.$.container.header.css({height:u}),this.$.container.body.css({height:f}),m.call(this,this.$.panel["aside-header"],"","aside","header"),m.call(this,this.$.panel["left-header"],"","left","header"),m.call(this,this.$.panel.header,"","","header"),m.call(this,this.$.panel["right-header"],"","right","header"),m.call(this,this.$.panel["top-aside-body"],"top","aside","body"),m.call(this,this.$.panel["top-left-body"],"top","left","body"),m.call(this,this.$.panel["top-body"],"top","","body"),m.call(this,this.$.panel["top-right-body"],"top","right","body"),m.call(this,this.$.panel["aside-body"],"","aside","body"),m.call(this,this.$.panel["left-body"],"","left","body"),m.call(this,this.$.panel.body,"","","body"),m.call(this,this.$.panel["right-body"],"","right","body"),m.call(this,this.$.panel["bottom-aside-body"],"bottom","aside","body"),m.call(this,this.$.panel["bottom-left-body"],"bottom","left","body"),m.call(this,this.$.panel["bottom-body"],"bottom","","body"),m.call(this,this.$.panel["bottom-right-body"],"bottom","right","body"),g.call(this,this.$.scroller.vertical,h,p,"vertical"),g.call(this,this.$.scroller.horizontal,h,p,"horizontal"),g.call(this,this.$.scroller.corner,h,p,"corner")};this.init=function(t){this.onStateChanged=n.onStateChanged,this.onClick=n.onClick;var a=this.gridConfig=jQuery.extend(!0,{},n,t);return a.target?(this.$target=jQuery(a.target),this.id||(this.id=this.$target.data("data-ax5grid-id")),this.id||(this.id="ax5grid-"+ax5.getGuid(),this.$target.data("data-ax5grid-id",a.id)),function(e){i.isObject(e)&&!e.error&&(a=jQuery.extend(!0,a,e))}(i.parseJson(this.$target.attr("data-ax5grid-config"),!0)),o.call(this),s.call(this,a.columns),l.call(this),r.call(this,!0),e.header.init.call(this),e.header.repaint.call(this),e.body.init.call(this),e.body.repaint.call(this),e.scroller.init.call(this),e.scroller.resize.call(this),jQuery(window).bind("resize.ax5grid-"+this.instanceId,function(){r.call(this),e.scroller.resize.call(this)}.bind(this)),this):(console.log(ax5.info.getError("ax5grid","401","init")),this)},this.align=function(){return r.call(this),e.scroller.resize.call(this),this},this.setData=function(t){return e.data.set.call(this,t),r.call(this),e.body.repaint.call(this),e.scroller.resize.call(this),this},this.main=function(){t.grid_instance=t.grid_instance||[],t.grid_instance.push(this),arguments&&i.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return n}()),e=ax5.ui.grid}(),function(){var e=ax5.ui,t=ax5.util;e.addClass({className:"mediaViewer",version:"0.4.2"},function(){var i=function(){var i,n=this,a={mousedown:ax5.info.supportTouch?"touchstart":"mousedown",mousemove:ax5.info.supportTouch?"touchmove":"mousemove",mouseup:ax5.info.supportTouch?"touchend":"mouseup"},o=function(e){var t="changedTouches"in e.originalEvent?e.originalEvent.changedTouches[0]:e;return{clientX:t.clientX,clientY:t.clientY,time:(new Date).getTime()}};this.config={clickEventName:"click",theme:"default",animateTime:250,columnKeys:{src:"src",poster:"poster",html:"html"},loading:{icon:"",text:"Now Loading"},viewer:{prevHandle:!1,nextHandle:!1,ratio:16/9},media:{prevHandle:"<",nextHandle:">",width:36,height:36,list:[]}},this.queue=[],this.openTimer=null,this.closeTimer=null,this.selectedIndex=0,this.mousePosition={},i=this.config;var s=function(e){return'\n                    <div data-ax5-ui-media-viewer="{{id}}" class="{{theme}}">\n                        <div data-media-viewer-els="viewer-holder">\n                        <div data-media-viewer-els="viewer"></div>\n                        </div>\n                        <div data-media-viewer-els="viewer-loading">\n                        <div class="ax5-ui-media-viewer-loading-holder">\n                        <div class="ax5-ui-media-viewer-loading-cell">\n                        {{{loading.icon}}}\n                    {{{loading.text}}}\n                    </div>\n                    </div>\n                    </div>\n                    {{#media}}\n                    <div data-media-viewer-els="media-list-holder">\n                        <div data-media-viewer-els="media-list-prev-handle">{{{prevHandle}}}</div>\n                    <div data-media-viewer-els="media-list">\n                        <div data-media-viewer-els="media-list-table">\n                        {{#list}}\n                    <div data-media-viewer-els="media-list-table-td">\n                        {{#image}}\n                    <div data-media-thumbnail="{{@i}}">\n                        <img src="{{'+e.poster+'}}" data-media-thumbnail-image="{{@i}}" />\n                        </div>\n                        {{/image}}\n                    {{#video}}\n                    <div data-media-thumbnail="{{@i}}">{{#'+e.poster+'}}<img src="{{.}}" data-media-thumbnail-video="{{@i}}" />>{{/'+e.poster+"}}{{^"+e.poster+'}}<a data-media-thumbnail-video="{{@i}}">{{{media.'+e.poster+"}}}</a>{{/"+e.poster+'}}</div>\n                    {{/video}}\n                    </div>\n                        {{/list}}\n                    </div>\n                        </div>\n                        <div data-media-viewer-els="media-list-next-handle">{{{nextHandle}}}</div>\n                        </div>\n                        {{/media}}\n                    </div>\n                        '},l=function(){var e=jQuery.extend(!0,{},i),t=s(i.columnKeys);e.id=this.id;try{return ax5.mustache.render(t,e)}finally{e=null,t=null}},r=function(e,a){var o,s="",l={thumbnail:function(e){this.select(e.getAttribute("data-media-thumbnail"))},prev:function(e){this.selectedIndex>0?this.select(this.selectedIndex-1):this.select(i.media.list.length-1)},next:function(e){this.selectedIndex<i.media.list.length-1?this.select(this.selectedIndex+1):this.select(0)},viewer:function(e){n.onClick&&n.onClick.call({media:i.media.list[this.selectedIndex]})}};if(a=t.findParentNode(e.target,function(e){return e.getAttribute("data-media-thumbnail")?(s="thumbnail",!0):"media-list-prev-handle"==e.getAttribute("data-media-viewer-els")?(s="prev",!0):"media-list-next-handle"==e.getAttribute("data-media-viewer-els")?(s="next",!0):"viewer"==e.getAttribute("data-media-viewer-els")?(s="viewer",!0):n.target.get(0)==e?!0:void 0})){for(var r in l)if(r==s){o=l[r].call(this,a);break}return this}return this},d=function(){if(i.media&&i.media.list&&i.media.list.length>0){for(var e=i.media.list.length,t=0;e--;)if(i.media.list[e].selected){t=e;break}0==t&&(i.media.list[0].selected=!0);try{return t}finally{e=null,t=null}}},c=function(){var e=this.$.list.find("[data-media-thumbnail="+this.selectedIndex+"]"),t=e.position(),i=e.outerWidth(),n=this.$.list.outerWidth(),a=this.$["list-table"].position().left,o=this.$["list-table"].outerWidth(),s=0;t.left+i+a>n?(s=n-(t.left+i),a!=s&&this.$["list-table"].css({left:a=s})):t.left+a<0&&(s=t.left,s>0&&(s=0),a!=s&&this.$["list-table"].css({left:a=s})),a!=s&&n>a+o&&(s=n-o,s>0&&(s=0),this.$["list-table"].css({left:s})),e=null,t=null,i=null,n=null,a=null,s=null},u={on:function(e){var o=function(t){var i=t;return"changedTouches"in t.originalEvent&&(i=t.originalEvent.changedTouches[0]),e.__dx=i.clientX-e.clientX,e.__dy=i.clientY-e.clientY,e.__time=(new Date).getTime(),Math.abs(e.__dx)>Math.abs(e.__dy)?{left:e.__dx}:{top:e.__dy}},s=this.$.viewer.width();jQuery(document.body).bind(a.mousemove+".ax5media-viewer-"+this.instanceId,function(e){var a=o(e);if("left"in a){if(n.$["viewer-holder"].css(a),Math.abs(n.mousePosition.__dx)>s/3){var l=0;n.mousePosition.__dx>0?l=n.selectedIndex>0?n.selectedIndex-1:i.media.list.length-1:n.selectedIndex<i.media.list.length-1&&(l=n.selectedIndex+1),n.select(l),u.off.call(n)}t.stopEvent(e)}}).bind(a.mouseup+".ax5media-viewer-"+this.instanceId,function(e){u.off.call(n)}).bind("mouseleave.ax5media-viewer-"+this.instanceId,function(e){u.off.call(n)}),jQuery(document.body).attr("unselectable","on").css("user-select","none").on("selectstart",!1)},off:function(){n.$["viewer-holder"].css({left:0}),jQuery(document.body).unbind(a.mousemove+".ax5media-viewer-"+this.instanceId).unbind(a.mouseup+".ax5media-viewer-"+this.instanceId).unbind("mouseleave.ax5media-viewer-"+this.instanceId),jQuery(document.body).removeAttr("unselectable").css("user-select","auto").off("selectstart")}};this.init=function(){this.onStateChanged=i.onStateChanged,this.onClick=i.onClick,this.id="ax5-media-viewer-"+ax5.getGuid(),i.target&&i.media&&i.media.list&&i.media.list.length>0&&this.attach(i.target)},this.attach=function(e,i){return e||console.log(ax5.info.getError("ax5mediaViewer","401","setConfig")),"undefined"!=typeof i&&this.setConfig(i,!1),this.target=jQuery(e),this.target.html(l.call(this)),this.$={root:this.target.find("[data-ax5-ui-media-viewer]"),"viewer-holder":this.target.find('[data-media-viewer-els="viewer-holder"]'),viewer:this.target.find('[data-media-viewer-els="viewer"]'),"viewer-loading":this.target.find('[data-media-viewer-els="viewer-loading"]'),"list-holder":this.target.find('[data-media-viewer-els="media-list-holder"]'),"list-prev-handle":this.target.find('[data-media-viewer-els="media-list-prev-handle"]'),list:this.target.find('[data-media-viewer-els="media-list"]'),"list-table":this.target.find('[data-media-viewer-els="media-list-table"]'),"list-next-handle":this.target.find('[data-media-viewer-els="media-list-next-handle"]')},this.align(),jQuery(window).unbind("resize.ax5media-viewer-"+this.id).bind("resize.ax5media-viewer-"+this.id,function(){this.align(),c.call(this)}.bind(this)),this.target.unbind("click").bind("click",function(e){e=e||window.event,r.call(this,e),t.stopEvent(e)}.bind(this)),this.$.viewer.unbind(a.mousedown).bind(a.mousedown,function(e){this.mousePosition=o(e),u.on.call(this,this.mousePosition)}.bind(this)).unbind("dragstart").bind("dragstart",function(e){return t.stopEvent(e),!1}),this.select(d.call(this)),this},this.align=function(){if(this.$["viewer-holder"].css({height:this.$.viewer.width()/i.viewer.ratio}),this.$.viewer.css({height:this.$.viewer.width()/i.viewer.ratio}),"image"==this.$.viewer.data("media-type")){var e=this.$.viewer.find("img");e.css({width:this.$.viewer.height()*this.$.viewer.data("img-ratio"),height:this.$.viewer.height()}),setTimeout(function(e){e.css({left:(this.$.viewer.width()-e.width())/2})}.bind(this,e),1)}else"video"==this.$.viewer.data("media-type")&&this.$.viewer.find("iframe").css({width:this.$.viewer.height()*this.$.viewer.data("img-ratio"),height:this.$.viewer.height()});this.$["viewer-loading"].css({height:this.$.viewer.height()});var n="%"==t.right(i.media.width,1)?t.number(i.media.width)/100*this.$.viewer.width():t.number(i.media.width),a="%"==t.right(i.media.height,1)?t.number(i.media.height)/100*this.$.viewer.width():t.number(i.media.height);return n=Math.floor(n),a=Math.floor(a),this.$["list-prev-handle"].css({width:1.5*n}),this.$["list-next-handle"].css({width:1.5*n}),this.$.list.css({height:a}),this.$["list-table"].find("[data-media-thumbnail]").css({width:n,height:a}),this.$["list-table"].find("[data-media-thumbnail-video]").css({width:n,height:a}),this},this.select=function(){var e={image:function(e,t){n.$["viewer-loading"].show();var a=[this.$.viewer.width(),this.$.viewer.height()],o=new Image;return o.src=e.image[i.columnKeys.src],o.onload=function(){n.$["viewer-loading"].fadeOut();var e=a[1],i=e*o.width/o.height;t(o,Math.floor(i),e)},o},video:function(e,t){n.$["viewer-loading"].show();var a=[this.$.viewer.width(),this.$.viewer.height()],o=jQuery(e.video[i.columnKeys.html]);t(o,a[0],a[1]),n.$["viewer-loading"].fadeOut()}},t={image:function(e,t,i){e.width=t,e.height=i;var n=$(e);this.$.viewer.html(n),n.css({left:(this.$.viewer.width()-t)/2}),this.$.viewer.data("media-type","image"),this.$.viewer.data("img-ratio",t/i)},video:function(e,t,i){e.css({width:t,height:i}),this.$.viewer.html(e),this.$.viewer.data("media-type","video"),this.$.viewer.data("img-ratio",t/i)}},a=function(e){this.$.list.find("[data-media-thumbnail]").removeClass("selected"),this.$.list.find("[data-media-thumbnail="+e+"]").addClass("selected"),c.call(this)};return function(n){if("undefined"==typeof n)return this;this.selectedIndex=Number(n);var o=i.media.list[n];a.call(this,n);for(var s in e)if(o[s]){e[s].call(this,o,t[s].bind(this));break}return this}}(),this.setMediaList=function(e){return i.media.list=[].concat(e),this.attach(i.target),this},this.main=function(){e.mediaViewer_instance=e.mediaViewer_instance||[],e.mediaViewer_instance.push(this),arguments&&t.isObject(arguments[0])?this.setConfig(arguments[0]):this.init()}.apply(this,arguments)};return i}())}(),function(){var e=ax5.ui,t=ax5.util;e.addClass({className:"uploader",version:"0.0.5"},function(){var i=function(){var i;this.config={clickEventName:"click",theme:"default",file_types:"*/*"},this.queue=[],this.target=null,this.selectedFile=null,this.uploadedFile=null,i=this.config,this.init=function(){this.target=$(i.target),this.target.html(this.__get_layout()),this.els={container:this.target.find('[data-ui-els="container"]'),preview:this.target.find('[data-ui-els="preview"]'),"preview-img":this.target.find('[data-ui-els="preview-img"]'),"input-file":this.target.find('[data-ui-els="input-file"]'),progress:this.target.find('[data-ui-els="progress"]'),"progress-bar":this.target.find('[data-ui-els="progress-bar"]')},this.els.preview.bind("click",function(){this.__request_select_file()}.bind(this)),this.els["input-file"].bind("change",function(e){this.__on_select_file(e||window.event)}.bind(this)),function(){var e,t=this.els.container,i=this.els["preview-img"],n=this;t.get(0).addEventListener("dragover",function(n){n.stopPropagation(),n.preventDefault(),i.hide(),e&&clearTimeout(e),t.addClass("dragover")},!1),t.get(0).addEventListener("dragleave",function(n){n.stopPropagation(),n.preventDefault(),e&&clearTimeout(e),e=setTimeout(function(){i.show()},100),t.removeClass("dragover")},!1),t.get(0).addEventListener("drop",function(e){e.stopPropagation(),e.preventDefault(),t.removeClass("dragover"),n.__on_select_file(e||window.event)},!1)}.call(this),setTimeout(function(){this.__set_size_layout()}.bind(this),1)},this.__get_layout=function(){var e=[],t="",n=i.file_types;return e.push('<div class="ax5-ui-single-uploader '+i.theme+'" data-ui-els="container">'),e.push('<div class="upload-preview" data-ui-els="preview">'),e.push('<img class="upload-preview-img" data-ui-els="preview-img" src="" style="display:none;width:100%;height:100%;" />'),e.push('<span class="empty-msg">'+i.empty_msg+"<span>"),e.push("</div>"),e.push('<div class="ax5-ui-progress '+(i.progress_theme||"")+'" data-ui-els="progress" style="display: none;"><div class="progress-bar" data-ui-els="progress-bar"></div></div>'),e.push('<input type="file" '+t+' accept="'+n+'" capture="camera" data-ui-els="input-file" />'),e.push("</div>"),e.join("")},this.__set_size_layout=this.align=function(){var e=20,t=this.els.progress.height(),i=this.els.container.width(),n=this.els.container.height();0!=i&&0!=n&&this.els.progress.css({left:e,top:n/2-t/2,width:i-2*e})},this.__request_select_file=function(){return i.before_select_file&&!i.before_select_file.call()?!1:void(window.imagePicker?window.imagePicker.getPictures(function(e){for(var t=0;t<e.length;t++)console.log("Image URI: "+e[t]);_this.__on_select_file(e)},function(e){console.log("Error: "+e)}):this.els["input-file"].trigger("click"))},this.__on_select_file=function(e){var t,n=this.target.id,a=this.els["preview-img"].get(0);if("dataTransfer"in e?t=e.dataTransfer.files[0]:"target"in e?t=e.target.files[0]:e&&(t=e[0]),!t)return!1;if(this.selected_file=t,function(e){function i(t,i,n){var a={},o=new Image;o.src=t.src,o.onload=function(){this.width>this.height?this.height>n?(a={width:this.width*(n/this.height),height:n},a.left=(i-a.width)/2):(a={width:this.width,height:this.height},a.top=(n-a.height)/2):this.width>i?(a={height:this.height*(i/this.width),width:i},a.top=(n-a.height)/2):(a={width:this.width,height:this.height},a.left=(i-a.width)/2),console.log(a),e.els["preview-img"].css(a)}}if(e.els["preview-img"].css({display:"block"}),window.imagePicker)a.src=t,i(a,e.els.container.width(),e.els.container.height());else{var o=new FileReader(n);o.onloadend=function(){try{a.src=o.result,i(a,e.els.container.width(),e.els.container.height())}catch(t){console.log(t)}},t&&o.readAsDataURL(t)}}(this),i.on_event){var o={action:"fileselect",file:t};i.on_event.call(o,o)}},this.upload=function(){var e=this;if(!this.selected_file){if(i.on_event){var n={action:"error",error:ax5.info.get_error("single-uploader","460","upload")};i.on_event.call(n,n)}return this}var a=new FormData,o=this.els["progress-bar"];this.els.progress.css({display:"block"}),o.css({width:"0%"}),window.imagePicker?a.append(i.upload_http.filename_param_key,this.selected_file):a.append(i.upload_http.filename_param_key,this.selected_file);for(var s in i.upload_http.data)a.append(s,i.upload_http.data[s]);this.xhr=new XMLHttpRequest,this.xhr.open(i.upload_http.method,i.upload_http.url,!0),this.xhr.onload=function(i){var n=i.target.response;try{"string"==typeof n&&(n=t.parseJson(n))}catch(i){return console.log(i),!1}return n.error?(console.log(n.error),!1):void e.upload_complete(n)},this.xhr.upload.onprogress=function(i){o.css({width:t.number(i.loaded/i.total*100,{round:2})+"%"}),i.lengthComputable&&i.loaded>=i.total&&setTimeout(function(){e.els.progress.css({display:"none"})},300)},this.xhr.send(a)},this.upload_complete=function(e){if(this.selected_file=null,this.uploaded_file=e,this.els.container.addClass("uploaded"),i.on_event){var t={action:"uploaded",file:e};i.on_event.call(t,t)}},this.set_uploaded_file=function(e){this.uploaded_file=e,this.uploaded_file?this.els.container.addClass("uploaded"):this.els.container.removeClass("uploaded")},this.set_preview_img=function(e){e?this.els["preview-img"].attr({src:e}).show():this.els["preview-img"].attr({src:null}).hide()},this.main=function(){e.uploader_instance=e.uploader_instance||[],e.uploader_instance.push(this),arguments&&t.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return i}())}(),function(){var e=ax5.ui,t=ax5.util;e.addClass({className:"combobox",version:"0.2.1"},function(){var e=function(){var e,i=this;this.config={theme:"default",animateTime:250,lang:{noSelected:"",noOptions:"no options",loading:"now loading.."},columnKeys:{optionValue:"value",optionText:"text",optionSelected:"selected"}},this.queue=[],this.activecomboboxOptionGroup=null,this.activecomboboxQueueIndex=-1,this.openTimer=null,this.closeTimer=null,this.waitOptionsCallback=null,this.keyUpTimer=null,e=this.config;var n=function(e,t){return e&&e.onStateChanged?e.onStateChanged.call(t,t):this.onStateChanged&&this.onStateChanged.call(t,t),"changeValue"==t.state&&(e&&e.onChange?e.onChange.call(t,t):this.onChange&&this.onChange.call(t,t)),e=null,t=null,!0},a=function(e){return'\n                <div class="ax5combobox-option-group {{theme}} {{size}}" data-ax5combobox-option-group="{{id}}">\n                    <div class="ax-combobox-body">\n                        <div class="ax-combobox-option-group-content" data-els="content"></div>\n                    </div>\n                    <div class="ax-combobox-arrow"></div> \n                </div>\n                '},o=function(){return'\n                <div class="form-control {{formSize}} ax5combobox-display {{theme}}" \n                data-ax5combobox-display="{{id}}" data-ax5combobox-instance="{{instanceId}}">\n                    <div class="ax5combobox-display-table" data-els="display-table">\n                        <div data-ax5combobox-display="label-holder"> \n                        <a {{^tabIndex}}href="#ax5combobox-{{id}}" {{/tabIndex}}{{#tabIndex}}tabindex="{{tabIndex}}" {{/tabIndex}}\n                        data-ax5combobox-display="label"\n                        contentEditable="true"\n                        spellcheck="false">{{{label}}}</a>\n                        </div>\n                        <div data-ax5combobox-display="addon"> \n                            {{#multiple}}{{#reset}}\n                            <span class="addon-icon-reset" data-selected-clear="true">{{{.}}}</span>\n                            {{/reset}}{{/multiple}}\n                            {{#icons}}\n                            <span class="addon-icon-closed">{{clesed}}</span>\n                            <span class="addon-icon-opened">{{opened}}</span>\n                            {{/icons}}\n                            {{^icons}}\n                            <span class="addon-icon-closed"><span class="addon-icon-arrow"></span></span>\n                            <span class="addon-icon-opened"><span class="addon-icon-arrow"></span></span>\n                            {{/icons}}\n                        </div>\n                    </div>\n                </a>\n                '},s=function(){return'\n                <select tabindex="-1" class="form-control {{formSize}}" name="{{name}}" {{#multiple}}multiple="multiple"{{/multiple}}></select>\n                '},l=function(e){return'\n                {{#waitOptions}}\n                    <div class="ax-combobox-option-item">\n                            <div class="ax-combobox-option-item-holder">\n                                <span class="ax-combobox-option-item-cell ax-combobox-option-item-label">\n                                    {{{lang.loading}}}\n                                </span>\n                            </div>\n                        </div>\n                {{/waitOptions}}\n                {{^waitOptions}}\n                    {{#options}}\n                        {{#optgroup}}\n                            <div class="ax-combobox-option-group">\n                                <div class="ax-combobox-option-item-holder">\n                                    <span class="ax-combobox-option-group-label">\n                                        {{{.}}}\n                                    </span>\n                                </div>\n                                {{#options}}\n                                {{^hide}}\n                                <div class="ax-combobox-option-item" data-option-focus-index="{{@findex}}" data-option-group-index="{{@gindex}}" data-option-index="{{@index}}" \n                                data-option-value="{{'+e.optionValue+'}}" \n                                {{#'+e.optionSelected+'}}data-option-selected="true"{{/'+e.optionSelected+'}}>\n                                    <div class="ax-combobox-option-item-holder">\n                                        {{#multiple}}\n                                        <span class="ax-combobox-option-item-cell ax-combobox-option-item-checkbox">\n                                            <span class="item-checkbox-wrap useCheckBox" data-option-checkbox-index="{{@i}}"></span>\n                                        </span>\n                                        {{/multiple}}\n                                        <span class="ax-combobox-option-item-cell ax-combobox-option-item-label">{{'+e.optionText+'}}</span>\n                                    </div>\n                                </div>\n                                {{/hide}}\n                                {{/options}}\n                            </div>                            \n                        {{/optgroup}}\n                        {{^optgroup}}\n                        {{^hide}}\n                        <div class="ax-combobox-option-item" data-option-focus-index="{{@findex}}" data-option-index="{{@index}}" data-option-value="{{'+e.optionValue+'}}" {{#'+e.optionSelected+'}}data-option-selected="true"{{/'+e.optionSelected+'}}>\n                            <div class="ax-combobox-option-item-holder">\n                                {{#multiple}}\n                                <span class="ax-combobox-option-item-cell ax-combobox-option-item-checkbox">\n                                    <span class="item-checkbox-wrap useCheckBox" data-option-checkbox-index="{{@i}}"></span>\n                                </span>\n                                {{/multiple}}\n                                <span class="ax-combobox-option-item-cell ax-combobox-option-item-label">{{'+e.optionText+'}}</span>\n                            </div>\n                        </div>\n                        {{/hide}}\n                        {{/optgroup}}\n                    {{/options}}\n                    {{^options}}\n                        <div class="ax-combobox-option-item">\n                            <div class="ax-combobox-option-item-holder">\n                                <span class="ax-combobox-option-item-cell ax-combobox-option-item-label">\n                                    {{{lang.noOptions}}}\n                                </span>\n                            </div>\n                        </div>\n                    {{/options}}\n                {{/waitOptions}}\n                '},r=function(e){return'{{#selected}}<span tabindex="-1" data-ax5combobox-selected-label="{{@i}}" data-ax5combobox-selected-text="{{text}}">{{text}}</span>{{/selected}}'},d=function(){for(var e,i=this.queue.length;i--;){var n=this.queue[i];if(n.$display&&(e=Math.max(n.$select.outerWidth(),t.number(n.minWidth)),n.$display.css({"min-width":e}),n.reset&&n.$display.find(".addon-icon-reset").css({"line-height":this.queue[i].$display.height()+"px"}),n.multiple)){var a=function(){return t.number(n.$display.css("border-top-width"))+t.number(n.$display.css("border-bottom-width"))}.call(this);n.$target.height(""),n.$display.height("");var o=n.$displayTable.outerHeight();Math.abs(o-n.$target.height())>a&&(n.$target.css({height:o+a}),n.$display.css({height:o+a}))}}return i=null,e=null,this},c=function(e){if(!this.activecomboboxOptionGroup)return this;var t=this.queue[this.activecomboboxQueueIndex],i={},n={};e&&jQuery(document.body).append(this.activecomboboxOptionGroup),i=t.$target.offset(),n={width:t.$target.outerWidth(),height:t.$target.outerHeight()},t.direction&&""!==t.direction&&"auto"!==t.direction||(t.direction="top"),e&&this.activecomboboxOptionGroup.addClass("direction-"+t.direction),this.activecomboboxOptionGroup.css(function(){return"top"==t.direction?{left:i.left,top:i.top+n.height+1,width:n.width}:"bottom"==t.direction?{left:i.left,top:i.top-this.activecomboboxOptionGroup.outerHeight()-1,width:n.width}:void 0}.call(this))},u=function(e,i){if(!this.activecomboboxOptionGroup)return this;var n=this.queue[this.activecomboboxQueueIndex],a="display";return(i=t.findParentNode(e.target,function(e){return e.getAttribute("data-option-value")?(a="optionItem",!0):n.$target.get(0)==e?(a="display",!0):void 0}))?("optionItem"===a&&(this.val(n.id,{index:{gindex:i.getAttribute("data-option-group-index"),index:i.getAttribute("data-option-index")}},void 0,"internal"),t.selectRange(n.$displayLabel,"end"),n.multiple||this.close()),this):(this.close(),this)},h=function(e){if(e.keyCode==ax5.info.eventKeys.ESC)this.close();else if(e.which==ax5.info.eventKeys.RETURN){for(var t=[],i=this.queue[this.activecomboboxQueueIndex],n=i.$displayLabel.get(0).childNodes,a=0,o=n.length;o>a;a++){var s=n[a];if(s.nodeType in C){var l=C[s.nodeType].call(this,this.activecomboboxQueueIndex,s);"undefined"!=typeof l&&t.push(l)}}this.val(i.id,t,!0,"internal"),i.multiple||this.close()}},p=function(e){var t=this.queue[e],i={};return i.id=t.id,i.theme=t.theme,i.size="ax5combobox-option-group-"+t.size,i.multiple=t.multiple,i.lang=t.lang,i.options=t.options,i.selected=t.selected,i.hasSelected=i.selected&&i.selected.length>0,ax5.mustache.render(r.call(this,t.columnKeys),i)+"&nbsp;"},f=function(e){var i,n=this.queue[e];if(n.$displayLabel.html(p.call(this,e)),n.$target.height(""),n.$display.height(""),n.$target.height()<(i=n.$displayTable.outerHeight())){var a=function(){return t.number(n.$display.css("border-top-width"))+t.number(n.$display.css("border-bottom-width"))}();n.$target.css({height:i+a}),n.$display.css({height:i+a})}},m=function(e){this.queue[e].$displayLabel.trigger("focus"),t.selectRange(this.queue[e].$displayLabel,"end")},g=function(e,i){this.queue[e].waitOptions=!0,this.activecomboboxOptionGroup.find('[data-els="content"]').html(jQuery(ax5.mustache.render(l.call(this,this.queue[e].columnKeys),this.queue[e]))),this.queue[e].onSearch.call({self:this,item:this.queue[e]},function(e){var i={},n=this.queue[this.activecomboboxQueueIndex];!function(e,i){var n={};i.options.forEach(function(t,i){t["@index"]=i,n[t[e.columnKeys.optionValue]]=t}),t.isArray(e.selected)&&e.selected.forEach(function(t){n[t[e.columnKeys.optionValue]]&&(i.options[n[t[e.columnKeys.optionValue]]["@index"]][e.columnKeys.optionSelected]=!0)})}(n,e),n.options=w.call(this,this.activecomboboxQueueIndex,e.options),d.call(this),i.id=n.id,i.theme=n.theme,i.size="ax5combobox-option-group-"+n.size,i.multiple=n.multiple,i.lang=n.lang,i.options=n.options,this.activecomboboxOptionGroup.find('[data-els="content"]').html(jQuery(ax5.mustache.render(l.call(this,n.columnKeys),i)))}.bind(this))},b=function(e,t){if(-1==this.activecomboboxQueueIndex)return this;var i,n=[],a=-1,o=this.queue[e].indexedOptions.length-1;if(""!=t){var s=/[\{\}\[\]\/?.,;:|\)*~`!^\-_+<>@\#$%&\\\=\(\'\"]/gi;if(t=t.replace(s,""),this.queue[e].onSearch){g.call(this,e,t);try{return n}finally{n=null,a=null,o=null,i=null}}for(;o-a++;){if(i=this.queue[e].indexedOptions[a],(""+i.text).toLowerCase()==t.toLowerCase()){n=[{"@findex":i["@findex"],optionsSort:0}];break}var l=(""+i.text).toLowerCase().search(t.toLowerCase());if(l>-1&&(n.push({"@findex":i["@findex"],optionsSort:l}),n.length>2))break;l=null}n.sort(function(e,t){return e.optionsSort-t.optionsSort})}n&&n.length>0?x.call(this,e,void 0,n[0]["@findex"]):v.call(this,e);try{return n}finally{n=null,a=null,o=null,i=null}},v=function(e){this.activecomboboxOptionGroup&&this.activecomboboxOptionGroup.find("[data-option-focus-index]").removeClass("hover").removeAttr("data-option-selected"),this.queue[e].optionFocusIndex=-1},x=function(e,i,n){var a,o,s,l,r=this.queue[e];if(this.activecomboboxOptionGroup&&r.options&&r.options.length>0){if("undefined"!=typeof n?a=n:(o=-1==r.optionFocusIndex?r.optionSelectedIndex||-1:r.optionFocusIndex,-1==o?a=0:(a=o+i,0>a?a=0:a>r.optionItemLength-1&&(a=r.optionItemLength-1))),r.optionFocusIndex=a,r.options[a]&&r.options[a].hide){if("undefined"==typeof i)return this;for(;r.options[a].hide;){if(a+=i,0>a){a=0;break}if(a>r.optionItemLength-1){a=r.optionItemLength-1;break}}}if("undefined"!=typeof a&&(this.activecomboboxOptionGroup.find("[data-option-focus-index]").removeClass("hover"),s=this.activecomboboxOptionGroup.find('[data-option-focus-index="'+a+'"]').addClass("hover"),l=this.activecomboboxOptionGroup.find('[data-els="content"]'),s.get(0))){var d=s.outerHeight(),c=l.innerHeight(),u=l.scrollTop(),h=s.position().top+l.scrollTop();if(h+d>c+u?l.scrollTop(h+d-c):u>h&&l.scrollTop(h),"undefined"!=typeof i){var p=r.$displayLabel.get(0).childNodes,f=p[p.length-1];
if("1"!=f.nodeType&&(f=p[p.length-2]),!f)return this;f.getAttribute("data-ax5combobox-selected-text")||(f.innerHTML="&nbsp;"+r.indexedOptions[a].text,t.selectRange(r.$displayLabel,"end"))}}}},y=function(){var e=t.debounce(function(e){if(-1==this.activecomboboxQueueIndex)return this;for(var n=[],a="",o=this.queue[e],s=o.$displayLabel.get(0).childNodes,l=0,r=s.length;r>l;l++){var d=s[l];if(d.nodeType in C){var c=C[d.nodeType].call(this,this.activecomboboxQueueIndex,d,!0);"undefined"==typeof c||(t.isString(c)?(a=c,"1"==d.nodeType&&d.getAttribute("data-ax5combobox-selected-text")?a=!1:n.push(c)):n.push(c))}}0==s.length?this.val(o.id,null,void 0,"internal"):a===!1?(this.val(o.id,n,void 0,"internal"),t.selectRange(o.$displayLabel,"end")):""!=a&&b.call(i,e,a)},150),n=function(e){for(var i,n=[],a=this.queue[e],o=a.$displayLabel.get(0).childNodes,s=0,l=o.length;l>s;s++){var r=o[s];if(r.nodeType in C){var d=C[r.nodeType].call(this,e,r,!0);"undefined"==typeof d||(t.isString(d)?(i=d,n.push(d)):n.push(d))}}"undefined"!=typeof i&&this.val(a.id,n,void 0,"internal")},a={click:function(e,n){var a=t.findParentNode(n.target,function(e){return e.getAttribute("data-selected-clear")?!0:void 0});a?this.val(e,{clear:!0}):i.activecomboboxQueueIndex==e?-1==this.queue[e].optionFocusIndex&&i.close():(i.open(e),""==this.queue[e].$displayLabel.text().replace(/^\W*|\W*$/g,"")&&(this.queue[e].$displayLabel.html(p.call(this,e)),m.call(this,e)))},keyUp:function(n,a){return a.which==ax5.info.eventKeys.ESC&&-1===i.activecomboboxQueueIndex?(t.stopEvent(a),this):(i.activecomboboxQueueIndex!=n&&(i.open(n),t.stopEvent(a)),void e.call(this,n))},keyDown:function(e,i){i.which==ax5.info.eventKeys.ESC?t.stopEvent(i):i.which==ax5.info.eventKeys.RETURN?t.stopEvent(i):i.which==ax5.info.eventKeys.DOWN?(x.call(this,e,1),t.stopEvent(i)):i.which==ax5.info.eventKeys.UP&&(x.call(this,e,-1),t.stopEvent(i))},focus:function(e,t){},blur:function(e,i){n.call(this,e),t.stopEvent(i)},selectChange:function(e,t){this.val(e,this.queue[e].$select.val(),!0)}};return function(e){var t=this.queue[e],i={};return t.selected=[],t.$display?(t.$displayLabel.html(p.call(this,e)),t.options=w.call(this,e,t.options),d.call(this)):(i.instanceId=this.instanceId,i.id=t.id,i.name=t.name,i.theme=t.theme,i.tabIndex=t.tabIndex,i.multiple=t.multiple,i.reset=t.reset,i.label=p.call(this,e),i.formSize=function(){return t.size?"input-"+t.size:""}(),t.$display=jQuery(ax5.mustache.render(o.call(this,e),i)),t.$displayTable=t.$display.find('[data-els="display-table"]'),t.$displayLabel=t.$display.find('[data-ax5combobox-display="label"]'),t.$target.find("select").get(0)?(t.$select=t.$target.find("select"),t.$select.attr("tabindex","-1").attr("class","form-control "+i.formSize),i.name&&t.$select.attr("name","name"),i.multiple&&t.$select.attr("multiple","multiple")):(t.$select=jQuery(ax5.mustache.render(s.call(this,e),i)),t.$target.append(t.$select)),t.$target.append(t.$display),t.options=w.call(this,e,t.options),d.call(this)),t.$display.unbind("click.ax5combobox").bind("click.ax5combobox",a.click.bind(this,e)),t.$displayLabel.unbind("focus.ax5combobox").bind("focus.ax5combobox",a.focus.bind(this,e)).unbind("blur.ax5combobox").bind("blur.ax5combobox",a.blur.bind(this,e)).unbind("keyup.ax5combobox").bind("keyup.ax5combobox",a.keyUp.bind(this,e)).unbind("keydown.ax5combobox").bind("keydown.ax5combobox",a.keyDown.bind(this,e)),t.$select.unbind("change.ax5combobox").bind("change.ax5combobox",a.selectChange.bind(this,e)),i=null,t=null,e=null,this}}(),w=function(){var e=function(e,t){t?this.queue[e].selected.push(jQuery.extend({},t)):this.queue[e].selected=[]};return function(n,a){var o,s,l,r=this.queue[n],d=0;return e.call(this,n,!1),a?(r.options=a,r.indexedOptions=[],o=[],o.push('<option value=""></option>'),r.options.forEach(function(t,a){t.optgroup?(t["@gindex"]=a,t.options.forEach(function(t,s){t["@index"]=s,t["@findex"]=d,o.push('<option value="'+t[r.columnKeys.optionValue]+'" '+(t[r.columnKeys.optionSelected]?' selected="selected"':"")+">"+t[r.columnKeys.optionText]+"</option>"),t[r.columnKeys.optionSelected]&&e.call(i,n,t),r.indexedOptions.push({"@gindex":a,"@index":s,"@findex":d,value:t[r.columnKeys.optionValue],text:t[r.columnKeys.optionText]}),d++})):(t["@index"]=a,t["@findex"]=d,o.push('<option value="'+t[r.columnKeys.optionValue]+'" '+(t[r.columnKeys.optionSelected]?' selected="selected"':"")+">"+t[r.columnKeys.optionText]+"</option>"),t[r.columnKeys.optionSelected]&&e.call(i,n,t),r.indexedOptions.push({"@index":a,"@findex":d,value:t[r.columnKeys.optionValue],text:t[r.columnKeys.optionText]}),d++)}),r.optionItemLength=d,r.$select.html(o.join(""))):(r.$select.get(0).options[0].selected=!1,s=t.toArray(r.$select.get(0).options),l=[],s.forEach(function(t,a){var o={};o[r.columnKeys.optionValue]=t.value,o[r.columnKeys.optionText]=t.text,o[r.columnKeys.optionSelected]=t.selected,o["@index"]=a,o["@findex"]=d,t.selected&&e.call(i,n,o),l.push(o),d++,o=null}),r.options=l,r.indexedOptions=l,r.$select.prepend('<option value=""></option>'),r.$select.get(0).options[0].selected=!0),o=null,s=null,l=null,r.options}}(),k=function(e){return t.isString(e)||(e=jQuery(e).data("data-ax5combobox-id")),t.isString(e)?t.search(this.queue,function(){return this.id==e}):void console.log(ax5.info.getError("ax5combobox","402","getQueIdx"))},_=function(e,t,i){return"undefined"==typeof i?e.multiple?!t:!0:i},$=function(e){this.queue[e].options.forEach(function(e){e.optgroup?e.options.forEach(function(e){e.selected=!1}):e.selected=!1})},C={1:function(t,i,n){var a,o,s=(i.textContent||i.innerText).replace(/^[\s\r\n\t]*|[\s\r\n\t]*$/g,""),l=this.queue[t];if(l.selected&&l.selected.length>0&&i.getAttribute("data-ax5combobox-selected-text")==s)return a=i.getAttribute("data-ax5combobox-selected-label"),o=l.selected[a],{index:{gindex:o["@gindex"],index:o["@index"],value:o[e.columnKeys.optionValue]}};if(i.getAttribute("data-ax5combobox-selected-text"))return s;if(""!=s){var o;return l.optionFocusIndex>-1&&(o=l.indexedOptions[l.optionFocusIndex])&&o[e.columnKeys.optionText].substr(0,s.length)===s?{index:{gindex:o["@gindex"],index:o["@index"],value:o[e.columnKeys.optionValue]}}:this.queue[t].editable||n?s:void 0}},3:function(e,t,i){var n=(t.textContent||t.innerText).replace(/^[\s\r\n\t]*|[\s\r\n\t]*$/g,""),a=this.queue[e];if(""!=n){var o;return a.optionFocusIndex>-1&&(o=this.activecomboboxOptionGroup.find('[data-option-focus-index="'+a.optionFocusIndex+'"]')),a.optionFocusIndex>-1&&o.get(0)&&o.attr("data-option-value")?{index:{gindex:o.attr("data-option-group-index"),index:o.attr("data-option-index")}}:a.editable||i?n:void 0}}};this.init=function(){this.onStateChanged=e.onStateChanged,this.onChange=e.onChange,jQuery(window).bind("resize.ax5combobox-display-"+this.instanceId,function(){d.call(this)}.bind(this))},this.bind=function(i){var n,a={};return i=jQuery.extend(!0,a,e,i),i.target?(i.$target=jQuery(i.target),i.id||(i.id=i.$target.data("data-ax5combobox-id")),i.id||(i.id="ax5combobox-"+ax5.getGuid(),i.$target.data("data-ax5combobox-id",i.id)),i.name=i.$target.attr("data-ax5combobox"),i.options&&(i.options=JSON.parse(JSON.stringify(i.options))),function(e){t.isObject(e)&&!e.error&&(i=jQuery.extend(!0,i,e))}(t.parseJson(i.$target.attr("data-ax5combobox-config"),!0)),n=t.search(this.queue,function(){return this.id==i.id}),-1===n?(this.queue.push(i),y.call(this,this.queue.length-1)):(this.queue[n]=jQuery.extend(!0,{},this.queue[n],i),y.call(this,n)),a=null,n=null,this):(console.log(ax5.info.getError("ax5combobox","401","bind")),this)},this.open=function(){var i=function(e){e.onExpand.call({self:this,item:e},function(e){if(this.waitOptionsCallback){var i={},n=this.queue[this.activecomboboxQueueIndex];!function(e,i){var n={};i.options.forEach(function(t,i){t["@index"]=i,n[t[e.columnKeys.optionValue]]=t}),t.isArray(e.selected)&&e.selected.forEach(function(t){n[t[e.columnKeys.optionValue]]&&(i.options[n[t[e.columnKeys.optionValue]]["@index"]][e.columnKeys.optionSelected]=!0)})}(n,e),n.$display.find('[data-ax5combobox-display="label"]').html(p.call(this,this.activecomboboxQueueIndex)),n.options=w.call(this,this.activecomboboxQueueIndex,e.options),d.call(this),i.id=n.id,i.theme=n.theme,i.size="ax5combobox-option-group-"+n.size,i.multiple=n.multiple,i.lang=n.lang,i.options=n.options,this.activecomboboxOptionGroup.find('[data-els="content"]').html(jQuery(ax5.mustache.render(l.call(this,n.columnKeys),i)))}}.bind(this))};return function(o,s){this.waitOptionsCallback=null;var r,d,p=t.isNumber(o)?o:k.call(this,o),f=this.queue[p],m={};return f.$display.attr("disabled")?this:(this.openTimer&&clearTimeout(this.openTimer),this.activecomboboxOptionGroup?this.activecomboboxQueueIndex==p?this:s>2?this:(this.close(),this.openTimer=setTimeout(function(){this.open(p,(s||0)+1)}.bind(this),e.animateTime),this):(f.optionFocusIndex=-1,f.selected&&f.selected.length>0&&(f.optionSelectedIndex=f.selected[0]["@findex"]),m.id=f.id,m.theme=f.theme,m.size="ax5combobox-option-group-"+f.size,m.multiple=f.multiple,m.lang=f.lang,f.$display.attr("data-combobox-option-group-opened","true"),f.onExpand&&(m.waitOptions=!0),m.options=t.filter(f.options,function(){return!this.hide}),this.activecomboboxOptionGroup=jQuery(ax5.mustache.render(a.call(this,f.columnKeys),m)),this.activecomboboxOptionGroup.find('[data-els="content"]').html(jQuery(ax5.mustache.render(l.call(this,f.columnKeys),m))),this.activecomboboxQueueIndex=p,c.call(this,"append"),jQuery(window).bind("resize.ax5combobox-"+this.instanceId,function(){c.call(this)}.bind(this)),f.selected&&f.selected.length>0&&(d=this.activecomboboxOptionGroup.find('[data-option-index="'+f.selected[0]["@index"]+'"]'),d.get(0)&&(r=d.position().top-this.activecomboboxOptionGroup.height()/3,this.activecomboboxOptionGroup.find('[data-els="content"]').stop().animate({scrollTop:r},f.animateTime,"swing",function(){}))),jQuery(window).bind("keyup.ax5combobox-"+this.instanceId,function(e){e=e||window.event,h.call(this,e),t.stopEvent(e)}.bind(this)),jQuery(window).bind("click.ax5combobox-"+this.instanceId,function(e){e=e||window.event,u.call(this,e),t.stopEvent(e)}.bind(this)),n.call(this,f,{self:this,state:"open",item:f}),f.onExpand&&(this.waitOptionsCallback=!0,i.call(this,f)),m=null,r=null,d=null,this))}}(),this.update=function(e){return this.bind(e),this},this.val=function(){var e={index:function(e,n,a,o){var s=this.queue[e];t.isString(n.index.gindex)?"undefined"!=typeof s.options[n.index.gindex]&&(s.options[n.index.gindex].options[n.index.index][s.columnKeys.optionSelected]=_(s,s.options[n.index.gindex].options[n.index.index][s.columnKeys.optionSelected],a),i.activecomboboxOptionGroup.find('[data-option-group-index="'+n.index.gindex+'"][data-option-index="'+n.index.index+'"]').attr("data-option-Selected",s.options[n.index.gindex].options[n.index.index][s.columnKeys.optionSelected].toString())):"undefined"!=typeof s.options[n.index.index]&&(s.options[n.index.index][s.columnKeys.optionSelected]=_(s,s.options[n.index.index][s.columnKeys.optionSelected],a),i.activecomboboxOptionGroup.find('[data-option-index="'+n.index.index+'"]').attr("data-option-Selected",s.options[n.index.index][s.columnKeys.optionSelected].toString())),("undefined"==typeof o||"justSetValue"!==o)&&(w.call(this,e,s.options),f.call(this,e),c.call(this),t.selectRange(s.$displayLabel,"end"))},arr:function(n,a,o){a.forEach(function(a){if(t.isString(a)||t.isNumber(a))e.value.call(i,n,a,o,"justSetValue");else for(var s in e)if(a[s]){e[s].call(i,n,a,o,"justSetValue");break}}),w.call(this,n,this.queue[n].options),f.call(this,n),c.call(this),t.selectRange(this.queue[n].$displayLabel,"end")},value:function(e,i,n,a){var o,s=this.queue[e],l=t.search(s.options,function(){return this[s.columnKeys.optionValue]==i});l>-1?s.options[l][s.columnKeys.optionSelected]=_(s,s.options[l][s.columnKeys.optionSelected],n):(l=s.options.length,o={"@index":l,hide:!0,addedOption:!0},o[s.columnKeys.optionValue]=i,o[s.columnKeys.optionText]=i,s.options.push(o),s.options[l][s.columnKeys.optionSelected]=_(s,s.options[l][s.columnKeys.optionSelected],n)),("undefined"==typeof a||"justSetValue"!==a)&&(w.call(this,e,this.queue[e].options),f.call(this,e),c.call(this),t.selectRange(this.queue[e].$displayLabel,"end"))},text:function(e,t,i,n){},clear:function(e){$.call(this,e),w.call(this,e,this.queue[e].options),m.call(this,e),v.call(this,e),this.activecomboboxOptionGroup&&this.activecomboboxOptionGroup.find("[data-option-index]").attr("data-option-Selected","false"),this.queue[e].optionSelectedIndex=-1}};return function(i,a,o,s){var l=t.isNumber(i)?i:k.call(this,i);if(-1===l)return void console.log(ax5.info.getError("ax5combobox","402","val"));if("undefined"==typeof a)return this.queue[l].selected;if(t.isArray(a))e.clear.call(this,l),e.arr.call(this,l,this.queue[l].multiple||0==a.length?a:[a[a.length-1]],o);else if(t.isString(a)||t.isNumber(a))"undefined"==typeof a||null===a||this.queue[l].multiple||$.call(this,l),e.value.call(this,l,a,o),f.call(this,l);else if(null===a)e.clear.call(this,l),f.call(this,l);else{this.queue[l].multiple||$.call(this,l);for(var r in e)if(a[r]){e[r].call(this,l,a,o);break}f.call(this,l)}return"undefined"!=typeof a&&n.call(this,this.queue[l],{self:this,item:this.queue[l],state:s?"changeValue":"setValue",value:this.queue[l].selected,internal:s}),i=null,this}}(),this.close=function(t){return this.closeTimer&&clearTimeout(this.closeTimer),this.activecomboboxOptionGroup?(t=this.queue[this.activecomboboxQueueIndex],t.optionFocusIndex=-1,t.$display.removeAttr("data-combobox-option-group-opened").trigger("focus"),this.activecomboboxOptionGroup.addClass("destroy"),jQuery(window).unbind("resize.ax5combobox-"+this.instanceId).unbind("click.ax5combobox-"+this.instanceId).unbind("keyup.ax5combobox-"+this.instanceId),this.closeTimer=setTimeout(function(){this.activecomboboxOptionGroup&&this.activecomboboxOptionGroup.remove(),this.activecomboboxOptionGroup=null,this.activecomboboxQueueIndex=-1,n.call(this,t,{self:this,state:"close"})}.bind(this),e.animateTime),this.waitOptionsCallback=null,this):this},this.enable=function(e){var t=k.call(this,e);return this.queue[t].$display.removeAttr("disabled"),this.queue[t].$input.removeAttr("disabled"),n.call(this,this.queue[t],{self:this,state:"enable"}),this},this.disable=function(e){var t=k.call(this,e);return this.queue[t].$display.attr("disabled","disabled"),this.queue[t].$input.attr("disabled","disabled"),n.call(this,this.queue[t],{self:this,state:"disable"}),this},this.main=function(){arguments&&t.isObject(arguments[0])?this.setConfig(arguments[0]):this.init()}.apply(this,arguments)};return e}())}(),ax5.ui.combobox_instance=new ax5.ui.combobox,jQuery.fn.ax5combobox=function(){return function(e){if(ax5.util.isString(arguments[0])){var t=arguments[0];switch(t){case"open":return ax5.ui.combobox_instance.open(this);case"close":return ax5.ui.combobox_instance.close(this);case"setValue":return ax5.ui.combobox_instance.val(this,arguments[1],arguments[2]);case"getValue":return ax5.ui.combobox_instance.val(this);case"enable":return ax5.ui.combobox_instance.enable(this);case"disable":return ax5.ui.combobox_instance.disable(this);default:return this}}else"undefined"==typeof e&&(e={}),jQuery.each(this,function(){var t={target:this};e=jQuery.extend({},e,t),ax5.ui.combobox_instance.bind(e)});return this}}(),function(){var e=ax5.ui,t=ax5.util;e.addClass({className:"layout",version:"0.2.2"},function(){var e=function(){var e,i=this,n={mousedown:ax5.info.supportTouch?"touchstart":"mousedown",mousemove:ax5.info.supportTouch?"touchmove":"mousemove",mouseup:ax5.info.supportTouch?"touchend":"mouseup"},a=function(e){var t="changedTouches"in e.originalEvent?e.originalEvent.changedTouches[0]:e;return{clientX:t.clientX,clientY:t.clientY}};this.config={theme:"default",animateTime:250,splitter:{size:4},autoResize:!0},this.queue=[],this.openTimer=null,this.closeTimer=null,this.resizer=null,e=this.config;var o=function(){for(var e=this.queue.length;e--;)"undefined"==typeof this.queue[e].parentQueIdx&&this.queue[e].autoResize&&l.call(this,e,null,"windowResize")},s={width:function(t){return t?t.__width+(t.split?e.splitter.size:0):0},height:function(t){return t?t.__height+(t.split?e.splitter.size:0):0}},l=function(){var i={split:{vertical:function(t,i,n){i.splitter?i.__height=e.splitter.size:n==t.splitPanel.length-1&&0==t.splitPanel.asteriskLength?(i.height="*",i.__height=void 0,t.splitPanel.asteriskLength++):"*"==i.height&&t.splitPanel.asteriskLength++},horizontal:function(t,i,n){i.splitter?i.__width=e.splitter.size:n==t.splitPanel.length-1&&0==t.splitPanel.asteriskLength?(i.width="*",i.__width=void 0,t.splitPanel.asteriskLength++):"*"==i.width&&t.splitPanel.asteriskLength++}}},n={top:function(t,i){i.$target.css({height:i.__height||0}),i.split&&i.$splitter.css({height:e.splitter.size,top:i.__height||0})},bottom:function(t,i){i.$target.css({height:i.__height||0}),i.split&&i.$splitter.css({height:e.splitter.size,bottom:i.__height||0})},left:function(t,i){var n={width:i.__width||0,height:t.targetDimension.height};t.dockPanel.top&&(n.height-=t.dockPanel.top.__height,n.top=t.dockPanel.top.__height,t.dockPanel.top.split&&(n.height-=e.splitter.size,n.top+=e.splitter.size)),t.dockPanel.bottom&&(n.height-=t.dockPanel.bottom.__height,t.dockPanel.bottom.split&&(n.height-=e.splitter.size)),i.$target.css(n),i.split&&i.$splitter.css({width:e.splitter.size,height:n.height,top:n.top,left:n.width})},right:function(t,i){var n={width:i.__width||0,height:t.targetDimension.height};t.dockPanel.top&&(n.height-=t.dockPanel.top.__height,n.top=t.dockPanel.top.__height,t.dockPanel.top.split&&(n.height-=e.splitter.size,n.top+=e.splitter.size)),t.dockPanel.bottom&&(n.height-=t.dockPanel.bottom.__height,t.dockPanel.bottom.split&&(n.height-=e.splitter.size)),i.$target.css(n),i.split&&i.$splitter.css({width:e.splitter.size,height:n.height,top:n.top,right:n.width})},center:function(t,i){var n={width:t.targetDimension.width,height:t.targetDimension.height};t.dockPanel.top&&(n.height-=t.dockPanel.top.__height||0,n.top=t.dockPanel.top.__height||0,t.dockPanel.top.split&&(n.height-=e.splitter.size,n.top+=e.splitter.size)),t.dockPanel.bottom&&(n.height-=t.dockPanel.bottom.__height||0,t.dockPanel.bottom.split&&(n.height-=e.splitter.size)),t.dockPanel.left&&(n.width-=t.dockPanel.left.__width||0,n.left=t.dockPanel.left.__width||0,t.dockPanel.left.split&&(n.width-=e.splitter.size,n.left+=e.splitter.size)),t.dockPanel.right&&(n.width-=t.dockPanel.right.__width||0,t.dockPanel.right.split&&(n.width-=e.splitter.size));var a=i.minWidth||0,o=i.minHeight||0;n.width<a&&(n.width=a,t.$target.css({minWidth:a+s.width(t.dockPanel.left)+s.width(t.dockPanel.right)})),n.height<o&&(n.height=o,t.$target.css({minHeight:o+s.height(t.dockPanel.top)+s.height(t.dockPanel.bottom)})),i.$target.css(n)},split:{vertical:function(t,i,n,a,o){var s={},l=n?Number(t.splitPanel[n-1].offsetEnd):0;i.splitter?s.height=e.splitter.size:"*"!=i.height||"undefined"!=typeof i.__height&&!o?s.height=i.__height||0:s.height=i.__height=(t.targetDimension.height-a)/t.splitPanel.asteriskLength,s.top=l,i.offsetStart=l,i.offsetEnd=Number(l)+Number(s.height),i.$target.css(s)},horizontal:function(t,i,n,a,o){var s={},l=n?Number(t.splitPanel[n-1].offsetEnd):0;i.splitter?s.width=e.splitter.size:"*"!=i.width||"undefined"!=typeof i.__width&&!o?s.width=i.__width||0:s.width=i.__width=(t.targetDimension.width-a)/t.splitPanel.asteriskLength,s.left=l,i.offsetStart=l,i.offsetEnd=Number(l)+Number(s.width),i.$target.css(s)}}},a={"dock-panel":function(e){for(var t in e.dockPanel)e.dockPanel[t].$target&&e.dockPanel[t].$target.get(0)&&t in n&&n[t].call(this,e,e.dockPanel[t])},"split-panel":function(e,a){var o;e.splitPanel.asteriskLength=0,e.splitPanel.forEach(function(t,n){i.split[e.oriental].call(this,e,t,n)}),o="vertical"==e.oriental?t.sum(e.splitPanel,function(e){return"*"!=e.height?t.number(e.__height):void 0}):t.sum(e.splitPanel,function(e){return"*"!=e.width?t.number(e.__width):void 0}),e.splitPanel.forEach(function(t,i){n.split[e.oriental].call(this,e,t,i,o,a)})}},o=function(e){for(var t=e.childQueIdxs.length;t--;)l.call(this,e.childQueIdxs[t])};return function(e,t,i){var n=this.queue[e];n.targetDimension={height:n.$target.innerHeight(),width:n.$target.innerWidth()},n.layout in a&&a[n.layout].call(this,n,i),n.childQueIdxs&&o.call(this,n,i),n.onResize&&setTimeout(function(){this.onResize.call(this,this)}.bind(n),1),t&&t.call(n,n)}}(),r={on:function(e,t,a){var o=this.queue[e],l=a.position(),d={width:a.width(),height:a.height()},c={left:function(e){var i="changedTouches"in e.originalEvent?e.originalEvent.changedTouches[0]:e;t.__da=i.clientX-t.mousePosition.clientX;var n=t.minWidth||0,a=t.maxWidth||o.targetDimension.width-s.width(o.dockPanel.left)-s.width(o.dockPanel.right);return t.__width+t.__da<n?t.__da=-t.__width+n:a<t.__width+t.__da&&(t.__da=a-t.__width),{left:t.$splitter.position().left+t.__da}},right:function(e){var i="changedTouches"in e.originalEvent?e.originalEvent.changedTouches[0]:e;t.__da=i.clientX-t.mousePosition.clientX;var n=t.minWidth||0,a=t.maxWidth||o.targetDimension.width-s.width(o.dockPanel.left)-s.width(o.dockPanel.right);return t.__width-t.__da<n?t.__da=t.__width-n:a<t.__width-t.__da&&(t.__da=-a+t.__width),{left:t.$splitter.position().left+t.__da}},top:function(e){var i="changedTouches"in e.originalEvent?e.originalEvent.changedTouches[0]:e;t.__da=i.clientY-t.mousePosition.clientY;var n=t.minHeight||0,a=t.maxHeight||o.targetDimension.height-s.height(o.dockPanel.top)-s.height(o.dockPanel.bottom);return t.__height+t.__da<n?t.__da=-t.__height+n:a<t.__height+t.__da&&(t.__da=a-t.__height),{top:t.$splitter.position().top+t.__da}},bottom:function(e){var i="changedTouches"in e.originalEvent?e.originalEvent.changedTouches[0]:e;t.__da=i.clientY-t.mousePosition.clientY;var n=t.minHeight||0,a=t.maxHeight||o.targetDimension.height-s.height(o.dockPanel.top)-s.height(o.dockPanel.bottom);return t.__height-t.__da<n?t.__da=t.__height-n:a<t.__height-t.__da&&(t.__da=-a+t.__height),{top:t.$splitter.position().top+t.__da}},split:function(e){var i="changedTouches"in e.originalEvent?e.originalEvent.changedTouches[0]:e;if("vertical"==o.oriental){t.__da=i.clientY-t.mousePosition.clientY;var n=o.splitPanel[t.panelIndex-1],a=o.splitPanel[t.panelIndex+1],s=n.minHeight||0,l=a.minHeight||0;return t.offsetStart+t.__da<n.offsetStart+s?t.__da=n.offsetStart-t.offsetStart+s:t.offsetStart+t.__da>a.offsetEnd-l&&(t.__da=a.offsetEnd-t.offsetEnd-l),{top:t.$target.position().top+t.__da}}t.__da=i.clientX-t.mousePosition.clientX;var n=o.splitPanel[t.panelIndex-1],a=o.splitPanel[t.panelIndex+1],r=n.minWidth||0,d=a.minWidth||0;return t.offsetStart+t.__da<n.offsetStart+r?t.__da=n.offsetStart-t.offsetStart+r:t.offsetStart+t.__da>a.offsetEnd-d&&(t.__da=a.offsetEnd-t.offsetEnd-d),{left:Number(t.$target.position().left)+Number(t.__da)}}};t.__da=0,jQuery(document.body).bind(n.mousemove+".ax5layout-"+this.instanceId,function(e){i.resizer||(i.resizer=jQuery('<div class="ax5layout-resizer panel-'+t.resizerType+'" ondragstart="return false;"></div>'),i.resizer.css({left:l.left,top:l.top,width:d.width,height:d.height}),o.$target.append(i.resizer)),i.resizer.css(c[t.resizerType](e))}).bind(n.mouseup+".ax5layout-"+this.instanceId,function(n){r.off.call(i,e,t,a)}).bind("mouseleave.ax5layout-"+this.instanceId,function(n){r.off.call(i,e,t,a)}),jQuery(document.body).attr("unselectable","on").css("user-select","none").on("selectstart",!1)},off:function(e,t,a){var o=this.queue[e],s={"dock-panel":{left:function(e,t){t.__width+=t.__da},right:function(){t.__width-=t.__da},top:function(){t.__height+=t.__da},bottom:function(){t.__height-=t.__da}},"split-panel":{split:function(){"vertical"==o.oriental?(o.splitPanel[t.panelIndex-1].__height+=t.__da,o.splitPanel[t.panelIndex+1].__height-=t.__da):(o.splitPanel[t.panelIndex-1].__width+=t.__da,o.splitPanel[t.panelIndex+1].__width-=t.__da)}},"tab-panel":{}};i.resizer&&(i.resizer.remove(),i.resizer=null,s[this.queue[e].layout][t.resizerType].call(this,e,t),l.call(this,e)),jQuery(document.body).unbind(n.mousemove+".ax5layout-"+this.instanceId).unbind(n.mouseup+".ax5layout-"+this.instanceId).unbind("mouseleave.ax5layout-"+this.instanceId),jQuery(document.body).removeAttr("unselectable").css("user-select","auto").off("selectstart")}},d=function(){var e=function(e,i){return"*"==e?void 0:"%"==t.right(e,1)?i*t.number(e)/100:Number(e)},o={"dock-panel":function(o){var s=this.queue[o];s.dockPanel={},s.$target.find(">[data-dock-panel]").each(function(){var l={};!function(e){t.isObject(e)&&!e.error&&(l=jQuery.extend(!0,l,e))}(t.parseJson(this.getAttribute("data-dock-panel"),!0)),"dock"in l&&(l.$target=jQuery(this),l.$target.addClass("dock-panel-"+l.dock),(l.split=l.split&&"true"==l.split.toString())&&(l.$splitter=jQuery('<div data-splitter="" class="dock-panel-'+l.dock+'"></div>'),l.$splitter.bind(n.mousedown,function(e){l.mousePosition=a(e),r.on.call(i,o,l,l.$splitter)}).bind("dragstart",function(e){return t.stopEvent(e),!1}),s.$target.append(l.$splitter)),"top"==l.dock||"bottom"==l.dock?l.__height=e(l.height,s.targetDimension.height):l.__width=e(l.width,s.targetDimension.width),l.resizerType=l.dock,s.dockPanel[l.dock]=l)})},"split-panel":function(o){var s=this.queue[o];s.splitPanel=[],s.$target.find(">[data-split-panel], >[data-splitter]").each(function(l){var d={};!function(e){t.isObject(e)&&!e.error&&(d=jQuery.extend(!0,d,e))}(t.parseJson(this.getAttribute("data-split-panel")||this.getAttribute("data-splitter"),!0)),d.$target=jQuery(this),d.$target.addClass("split-panel-"+s.oriental),d.panelIndex=l,this.getAttribute("data-splitter")?(d.splitter=!0,d.$target.bind(n.mousedown,function(e){d.panelIndex>0&&d.panelIndex<s.splitPanel.length-1&&(d.mousePosition=a(e),r.on.call(i,o,d,d.$target))}).bind("dragstart",function(e){return t.stopEvent(e),!1}),d.resizerType="split"):"vertical"==s.oriental?d.__height=e(d.height,s.targetDimension.height):(s.oriental="horizontal",d.__width=e(d.width,s.targetDimension.width)),s.splitPanel.push(d)})}};return function(e){var t=this.queue[e];t.targetDimension={height:t.$target.innerHeight(),width:t.$target.innerWidth()},t.$target.parents("[data-ax5layout]").get(0)&&u.call(this,t.$target.parents("[data-ax5layout]").get(0),e),t.layout in o&&o[t.layout].call(this,e),l.call(this,e)}}(),c=function(e){return t.isString(e)||(e=jQuery(e).data("data-ax5layout-id")),t.isString(e)?t.search(this.queue,function(){return this.id==e}):void console.log(ax5.info.getError("ax5layout","402","getQueIdx"))},u=function(e,i){var n=t.isNumber(e)?e:c.call(this,e);this.queue[n].childQueIdxs||(this.queue[n].childQueIdxs=[]),this.queue[n].childQueIdxs.push(i),this.queue[i].parentQueIdx=n};this.init=function(){this.onStateChanged=e.onStateChanged,this.onClick=e.onClick,jQuery(window).bind("resize.ax5layout-"+this.instanceId,function(){o.call(this)}.bind(this))},this.bind=function(i){var n,a={};return i=jQuery.extend(!0,a,e,i),i.target?(i.$target=jQuery(i.target),i.id||(i.id=i.$target.data("data-ax5layout-id")),i.id||(i.id="ax5layout-"+ax5.getGuid(),i.$target.data("data-ax5layout-id",i.id)),i.name=i.$target.attr("data-ax5layout"),i.options&&(i.options=JSON.parse(JSON.stringify(i.options))),function(e){t.isObject(e)&&!e.error&&(i=jQuery.extend(!0,i,e))}(t.parseJson(i.$target.attr("data-config"),!0)),n=t.search(this.queue,function(){return this.id==i.id}),-1===n?(this.queue.push(i),d.call(this,this.queue.length-1)):(this.queue[n]=jQuery.extend(!0,{},this.queue[n],i),d.call(this,n)),a=null,n=null,this):(console.log(ax5.info.getError("ax5layout","401","bind")),this)},this.align=function(e,i){var n=t.isNumber(e)?e:c.call(this,e);return-1===n?void console.log(ax5.info.getError("ax5layout","402","align")):(l.call(this,n,null,i),this)},this.onResize=function(e,i){var n=t.isNumber(e)?e:c.call(this,e);return-1===n?void console.log(ax5.info.getError("ax5layout","402","onResize")):(this.queue[n].onResize=i,this)},this.resize=function(){var e={"dock-panel":function(e,i){["top","bottom","left","right"].forEach(function(n){i[n]&&e.dockPanel[n]&&("top"==n||"bottom"==n?e.dockPanel[n].__height=t.isObject(i[n])?i[n].height:i[n]:("left"==n||"right"==n)&&(e.dockPanel[n].__width=t.isObject(i[n])?i[n].width:i[n]))})},"split-panel":function(){},"tab-panel":function(){}};return function(i,n,a){var o=t.isNumber(i)?i:c.call(this,i);return-1===o?void console.log(ax5.info.getError("ax5layout","402","resize")):(e[this.queue[o].layout].call(this,this.queue[o],n),l.call(this,o,a),this)}}(),this.reset=function(){var e={"dock-panel":function(e){["top","bottom","left","right"].forEach(function(t){e.dockPanel[t]&&("top"==t||"bottom"==t?e.dockPanel[t].__height=e.dockPanel[t].height:("left"==t||"right"==t)&&(e.dockPanel[t].__width=e.dockPanel[t].width))})},"split-panel":function(){},"tab-panel":function(){}};return function(i,n){var a=t.isNumber(i)?i:c.call(this,i);return-1===a?void console.log(ax5.info.getError("ax5layout","402","reset")):(e[this.queue[a].layout].call(this,this.queue[a]),l.call(this,a,n),this)}}(),this.hide=function(){},this.main=function(){arguments&&t.isObject(arguments[0])?this.setConfig(arguments[0]):this.init()}.apply(this,arguments)};return e}())}(),ax5.ui.layout_instance=new ax5.ui.layout,jQuery.fn.ax5layout=function(){return function(e){if(ax5.util.isString(arguments[0])){var t=arguments[0];switch(t){case"align":return ax5.ui.layout_instance.align(this,arguments[1],arguments[2]);case"resize":return ax5.ui.layout_instance.resize(this,arguments[1],arguments[2]);case"reset":return ax5.ui.layout_instance.reset(this,arguments[1]);case"hide":return ax5.ui.layout_instance.hide(this,arguments[1]);case"onResize":return ax5.ui.layout_instance.onResize(this,arguments[1]);default:return this}}else"undefined"==typeof e&&(e={}),jQuery.each(this,function(){var t={target:this};e=jQuery.extend({},e,t),ax5.ui.layout_instance.bind(e)});return this}}();